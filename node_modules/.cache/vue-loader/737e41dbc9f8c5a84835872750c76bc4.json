{"remainingRequest":"/Users/aletheia/Desktop/discourse_crawler/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aletheia/Desktop/discourse_crawler/src/components/discourse_crawler.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aletheia/Desktop/discourse_crawler/src/components/discourse_crawler.vue","mtime":1696722768000},{"path":"/Users/aletheia/Desktop/discourse_crawler/node_modules/cache-loader/dist/cjs.js","mtime":1696691529000},{"path":"/Users/aletheia/Desktop/discourse_crawler/node_modules/thread-loader/dist/cjs.js","mtime":1696691549000},{"path":"/Users/aletheia/Desktop/discourse_crawler/node_modules/babel-loader/lib/index.js","mtime":1696691528000},{"path":"/Users/aletheia/Desktop/discourse_crawler/node_modules/cache-loader/dist/cjs.js","mtime":1696691529000},{"path":"/Users/aletheia/Desktop/discourse_crawler/node_modules/vue-loader/lib/index.js","mtime":1696691549000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vaW1wb3J0IHBhcmFsbGVsZG90cyBmcm9tICJwYXJhbGxlbGRvdHMiOwppbXBvcnQgKiBhcyBycyBmcm9tICJ0ZXh0LXJlYWRhYmlsaXR5IjsKLy9pbXBvcnQgKiBhcyBjaGVlcmlvIGZyb20gJ2NoZWVyaW8nOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgUGxvdGx5IGZyb20gInBsb3RseS5qcy1kaXN0IjsKLy9pbXBvcnQgT3BlbkFJIGZyb20gIm9wZW5haSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZGlzY291cnNlX2NyYXdsZXIiLAogIHByb3BzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXNnOiAiRGlzY291cnNlIENyYXdsZXIiLAogICAgICBtc2cyOiAiQW4gQUktcG93ZXJlZCB0b29sIGZvciBwZXJmb3JtaW5nIHRvcC1sZXZlbCBhbmFseXNpcyBvZiB3ZWJzaXRlcy4iLAogICAgICBtc2czOiAiIiwKICAgICAgdXJsVG9TY3JhcGU6ICIiLAogICAgICBwYWdlVGV4dDogIiIsCiAgICAgIGFuZ2VyOiAwLAogICAgICBmZWFyOiAwLAogICAgICBzdXJwcmlzZTogMCwKICAgICAgZGlzZ3VzdDogMCwKICAgICAgc2FkbmVzczogMCwKICAgICAgaGFwcGluZXNzOiAwLAogICAgICByZWFkYWJpbGl0eTogMCwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgc2hvd1Byb2Nlc3M6IHRydWUsCiAgICAgIHNob3dQcm9jZXNzMjogdHJ1ZSwKICAgICAgc2hvd1Byb2Nlc3MzOiB0cnVlLAogICAgICBzaG93QVBJOiB0cnVlLAogICAgICBhbmNob3JzRm9yQ3Jhd2w6IFtdLAogICAgICBzZWNvbmRJdGVyYXRpb246IGZhbHNlLAogICAgICBKU09OMTogbnVsbCwKICAgICAgSlNPTjI6IG51bGwsCiAgICAgIEpTT04zOiBudWxsLAogICAgICBKU09ONDogbnVsbCwKICAgICAgbW9yYWxGb3VuZGF0aW9uQW5hbHlzaXM6ICIiLAogICAgICBhcGlLRVk6ICIiLAogICAgICB1bmlxdWU6IFtdLAogICAgICBvdmVyYWxsU3VtbWFyeU91dHB1dDogIiIsCiAgICAgIG92ZXJhbGxPdXRwdXRFeHBsYW5hdGlvbjogIiIKICAgIH07CiAgfSwKCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkge30sCgogIG1ldGhvZHM6IHsKICAgIHJlZ2lzdGVyQVBJOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc2hvd0FQSSA9IGZhbHNlOwogICAgfSwKCiAgICBncmFiUGFnZTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNob3dQcm9jZXNzID0gZmFsc2U7CiAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgICAgaW1nLnNyYyA9CiAgICAgICAgImh0dHBzOi8vbWVkaWEuZ2lwaHkuY29tL21lZGlhL3YxLlkybGtQVGM1TUdJM05qRXhjM2RxZFRGaWRuTjZlbmwyYm1aMGIyUm5kR2wwWTI5b01XSmlPSG8wYkRjMmQzZDZZbkYzYkNabGNEMTJNVjlwYm5SbGNtNWhiRjluYVdaZllubGZhV1FtWTNROWN3L0hONkdMbFVzTXZ1ZTY1MmIydy9naXBoeS5naWYiOwogICAgICBpbWcuc2V0QXR0cmlidXRlKCJpZCIsICJ0aGlua2luZ0lNRyIpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVybWluYWwiKS5hcHBlbmRDaGlsZChpbWcpOwogICAgICBjb25zdCB1cmwgPQogICAgICAgICJodHRwczovL2FwaS5hbGxvcmlnaW5zLndpbi9yYXc/dXJsPSIgKwogICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnVybFRvU2NyYXBlKSArCiAgICAgICAgIiZjYWxsYmFjaz0/IjsKCiAgICAgIGF4aW9zCiAgICAgICAgLmdldCh1cmwpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbnN0IGRhdGEyID0gZGF0YS5yZXBsYWNlKC9ccysvZywgIiAiKS50cmltKCk7CiAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICBjb25zdCBodG1sID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhkYXRhMiwgInRleHQvaHRtbCIpOwogICAgICAgICAgY29uc3Qgd29ya2luZ0hUTUwgPSBodG1sOwogICAgICAgICAgd29ya2luZ0hUTUwKICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCwgc3R5bGUiKQogICAgICAgICAgICAuZm9yRWFjaCgocykgPT4gcy5yZW1vdmUoKSk7CiAgICAgICAgICBsZXQgaHRtbFdpdGhvdXRTY3JpcHRzID0gd29ya2luZ0hUTUwKICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoImJvZHkiKQogICAgICAgICAgICAuaW5uZXJUZXh0LnRyaW0oKTsKCiAgICAgICAgICBpZiAodGhpcy5zZWNvbmRJdGVyYXRpb24gPT0gZmFsc2UpIHsKICAgICAgICAgICAgdmFyIGFuY2hvcnMgPSBbXSwKICAgICAgICAgICAgICBsID0gaHRtbC5saW5rczsKICAgICAgICAgICAgY29uc3QgdGlja2VyQSA9IGh0bWwubGlua3MubGVuZ3RoOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGwubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBjb25zdCBjb3VudGVyVGlja2VyQSA9IGk7CiAgICAgICAgICAgICAgaWYgKGh0bWwubGlua3NbaV0uaHJlZi5pbmNsdWRlcyh0aGlzLnVybFRvU2NyYXBlKSkgewogICAgICAgICAgICAgICAgYW5jaG9ycy5wdXNoKGxbaV0uaHJlZik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChjb3VudGVyVGlja2VyQSA9PT0gdGlja2VyQSAtIDEpIHsKICAgICAgICAgICAgICAgIHRoaXMucGFnZVRleHQgPSBodG1sV2l0aG91dFNjcmlwdHM7CiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvcnNGb3JDcmF3bCA9IGFuY2hvcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBwb3MpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuY2hvcnMuaW5kZXhPZihpdGVtKSA9PSBwb3M7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYW5jaG9yc0ZvckNyYXdsKTsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRlbGF5ZWQgZm9yIDIgc2Vjb25kcy4iKTsKICAgICAgICAgICAgICAgICAgdGhpcy5ncmFiU3VicGFnZXMoKTsKICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcnMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9ycyk7CiAgICAgICAgICB0aGlzLm1zZyA9IGVycm9yczsgLy8gRXJyb3JzIGFuZCBzdHVmZgogICAgICAgIH0pOwogICAgfSwKCiAgICBncmFiU3VicGFnZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IGksCiAgICAgICAgbGVuID0gdGhpcy5hbmNob3JzRm9yQ3Jhd2wubGVuZ3RoOwogICAgICBjb25zdCB0aWNrZXIgPSB0aGlzLmFuY2hvcnNGb3JDcmF3bC5sZW5ndGg7CiAgICAgIGNvbnN0IHdvcmtpbmdBbmNob3JzQXJyYXkgPSB0aGlzLmFuY2hvcnNGb3JDcmF3bDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzOwogICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBmaXJlKGkpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBmaXJlKGkpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnN0IHVzYWJsZVVSTCA9IHdvcmtpbmdBbmNob3JzQXJyYXlbaV07CiAgICAgICAgICBjb25zdCBjb3VudGVyVGlja2VyID0gaTsKCiAgICAgICAgICB2YXIgdXJsID0KICAgICAgICAgICAgImh0dHBzOi8vYXBpLmFsbG9yaWdpbnMud2luL3Jhdz91cmw9IiArCiAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh1c2FibGVVUkwpICsKICAgICAgICAgICAgIiZjYWxsYmFjaz0/IjsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5nZXQodXJsKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICBjb25zdCBkYXRhMiA9IGRhdGEucmVwbGFjZSgvXHMrL2csICIgIikudHJpbSgpOwogICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICBjb25zdCBodG1sID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhkYXRhMiwgInRleHQvaHRtbCIpOwogICAgICAgICAgICAgIGNvbnN0IHdvcmtpbmdIVE1MID0gaHRtbDsKICAgICAgICAgICAgICB3b3JraW5nSFRNTAogICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCwgc3R5bGUiKQogICAgICAgICAgICAgICAgLmZvckVhY2goKHMpID0+IHMucmVtb3ZlKCkpOwogICAgICAgICAgICAgIGxldCBodG1sV2l0aG91dFNjcmlwdHMgPSB3b3JraW5nSFRNTAogICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoImJvZHkiKQogICAgICAgICAgICAgICAgLmlubmVyVGV4dC50cmltKCk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNyYXdsaW5nOiIgKyBpICsgIiAiICsgdXNhYmxlVVJMKTsKCiAgICAgICAgICAgICAgaW5zdGFuY2UubXNnID0gIkNyYXdsaW5nIjsKICAgICAgICAgICAgICBpbnN0YW5jZS5tc2cyID0gd29ya2luZ0FuY2hvcnNBcnJheVtpXTsKCiAgICAgICAgICAgICAgaWYgKGh0bWxXaXRob3V0U2NyaXB0cy5sZW5ndGggPD0gMTk5OSkgewogICAgICAgICAgICAgICAgY29uc3Qgd29ya2luZ0FjdHVhbFRleHQgPSBodG1sV2l0aG91dFNjcmlwdHMuc3Vic3RyaW5nKDEwMCwgMCk7CiAgICAgICAgICAgICAgICBjb25zdCB3b3JraW5nQWN0dWFsVGV4dDIgPSB3b3JraW5nQWN0dWFsVGV4dC5yZXBsYWNlKC8iL2csICIgIik7CiAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxUZXh0ID0gd29ya2luZ0FjdHVhbFRleHQyLnJlcGxhY2UoLycvZywgIiAiKTsKICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpcyIpOwogICAgICAgICAgICAgICAgdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIHAuaW5uZXJIVE1MID0KICAgICAgICAgICAgICAgICAgJ3sidXJsIjonICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgdXNhYmxlVVJMICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICAgJyJ0ZXh0IjonICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgYWN0dWFsVGV4dCArCiAgICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAgICJ9LCI7CiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtpbmdBY3R1YWxUZXh0ID0gaHRtbFdpdGhvdXRTY3JpcHRzLnN1YnN0cmluZygKICAgICAgICAgICAgICAgICAgMTAwLAogICAgICAgICAgICAgICAgICAyMDAwCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgY29uc3Qgd29ya2luZ0FjdHVhbFRleHQyID0gd29ya2luZ0FjdHVhbFRleHQucmVwbGFjZUFsbCgKICAgICAgICAgICAgICAgICAgJyInLAogICAgICAgICAgICAgICAgICAiICIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxUZXh0ID0gd29ya2luZ0FjdHVhbFRleHQyLnJlcGxhY2VBbGwoIiciLCAiICIpOwogICAgICAgICAgICAgICAgdmFyIGRpdjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpcyIpOwogICAgICAgICAgICAgICAgdmFyIHAyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBwMi5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgICAneyJ1cmwiOicgKwogICAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgICB1c2FibGVVUkwgKwogICAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgICAnInRleHQiOicgKwogICAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgICBhY3R1YWxUZXh0ICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgIn0sIjsKICAgICAgICAgICAgICAgIGRpdjIuYXBwZW5kQ2hpbGQocDIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoY291bnRlclRpY2tlciA9PT0gdGlja2VyIC0gMSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciAyIHNlY29uZHMuIik7CiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEVtb3Rpb25TdGF0cygpOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycm9ycykgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9ycyk7CiAgICAgICAgICAgICAgdGhpcy5tc2cgPSBlcnJvcnM7IC8vIEVycm9ycwogICAgICAgICAgICB9KTsKICAgICAgICB9LCAyMDAwICogaSk7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0RW1vdGlvblN0YXRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB3b3JraW5nSlNPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzIikuaW5uZXJUZXh0OwogICAgICBjb25zdCBtaWRkbGVKU09OID0gIlsiICsgd29ya2luZ0pTT04uc2xpY2UoMCwgLTEpICsgIl0iOwogICAgICBjb25zdCB3b3JraW5nSlNPTjEgPSBKU09OLnBhcnNlKG1pZGRsZUpTT04pOwogICAgICBsZXQgaTIsCiAgICAgICAgbGVuMiA9IHdvcmtpbmdKU09OMS5sZW5ndGg7CiAgICAgIGNvbnN0IHRpY2tlcjIgPSB3b3JraW5nSlNPTjEubGVuZ3RoOwogICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXM7CgogICAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW4yOyBpMisrKSB7CiAgICAgICAgZmlyZShpMik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGZpcmUoaTIpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vY29uc3QgdXNhYmxlVGV4dCA9IEpTT04uc3RyaW5naWZ5KHRoaXMuSlNPTjFbMF0udGV4dCk7CiAgICAgICAgICAvLyBjb25zdCBkb3RlbnYgPSByZXF1aXJlKCJkb3RlbnYiKTsKICAgICAgICAgIC8vIGRvdGVudi5jb25maWcoKTsKCiAgICAgICAgICBjb25zb2xlLmxvZygiQW5hbHl6aW5nIEVtb3Rpb24iKTsKCiAgICAgICAgICBjb25zdCB1c2FibGVVUkwgPSB3b3JraW5nSlNPTjFbaTJdLnVybDsKICAgICAgICAgIGNvbnN0IGNvdW50ZXJUaWNrZXIyID0gaTI7CiAgICAgICAgICBjb25zdCB1c2FibGVUZXh0ID0gd29ya2luZ0pTT04xW2kyXS50ZXh0OwoKICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBpbnN0YW5jZS5hcGlLRVksCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KTsKCiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICAgIG1vZGVsOiAiZ3B0LTMuNS10dXJiby1pbnN0cnVjdCIsCiAgICAgICAgICAgIHByb21wdDoKICAgICAgICAgICAgICAnUGVyZm9ybSBzZW50aW1lbnQgYW5hbHlzaXMgb24gdGhlIGZvbGxvd2luZyB0ZXh0LCBvdXRwdXR0aW5nIHNjb3JlcyBiZXR3ZWVuIDEgYW5kIDEwIGZvciBhbmdlciwgZmVhciwgaGFwcGluZXNzLCBzdXJwcmlzZSwgc2FkbmVzcywgYW5kIGRpc2d1c3QsIHJldHVybmluZyB0aGUgcmVzcG9uc2UgaW4gSlNPTiBvbmx5LiBGb3JtYXQgYXMgeyJhbmdlciI6IG51bWJlciBzY29yZSwiZmVhciI6IG51bWJlciBzY29yZSwiaGFwcGluZXNzIjogbnVtYmVyIHNjb3JlLCJzdXJwcmlzZSI6IG51bWJlciBzY29yZSwic2FkbmVzcyI6IG51bWJlciBzY29yZSwiZGlzZ3VzdCI6IG51bWJlciBzY29yZX0uICcgKwogICAgICAgICAgICAgIHVzYWJsZVRleHQgKwogICAgICAgICAgICAgICIuIiwKICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAsCiAgICAgICAgICAgIG1heF90b2tlbnM6IDI1NiwKICAgICAgICAgICAgdG9wX3A6IDEsCiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiAwLAogICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiAwLAogICAgICAgICAgfTsKCiAgICAgICAgICBjbGllbnQKICAgICAgICAgICAgLnBvc3QoImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY29tcGxldGlvbnMiLCBwYXJhbXMpCiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICBpbnN0YW5jZS5tc2cgPSAiQW5hbHl6aW5nIGVtb3Rpb24gb2YiOwogICAgICAgICAgICAgIGluc3RhbmNlLm1zZzIgPSB1c2FibGVVUkw7CiAgICAgICAgICAgICAgY29uc3QgcmF3UmVzdWx0ID0gcmVzdWx0LmRhdGEuY2hvaWNlc1swXS50ZXh0OwogICAgICAgICAgICAgIGNvbnN0IGp1c3RUaGVKU09OID0gcmF3UmVzdWx0LnN1YnN0cmluZyhyYXdSZXN1bHQuaW5kZXhPZigieyIpKTsKICAgICAgICAgICAgICBjb25zdCBwYWdlVHlwZSA9ICJzdWJQYWdlIjsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpMiArICI6ICIgKyBqdXN0VGhlSlNPTik7CgogICAgICAgICAgICAgIGNvbnN0IGVtb3Rpb25SZXN1bHRzID0gSlNPTi5wYXJzZShqdXN0VGhlSlNPTik7CiAgICAgICAgICAgICAgaW5zdGFuY2UuYW5nZXIgPSBlbW90aW9uUmVzdWx0cy5hbmdlcjsKICAgICAgICAgICAgICBpbnN0YW5jZS5mZWFyID0gZW1vdGlvblJlc3VsdHMuZmVhcjsKICAgICAgICAgICAgICBpbnN0YW5jZS5zdXJwcmlzZSA9IGVtb3Rpb25SZXN1bHRzLnN1cnByaXNlOwogICAgICAgICAgICAgIGluc3RhbmNlLmRpc2d1c3QgPSBlbW90aW9uUmVzdWx0cy5kaXNndXN0OwogICAgICAgICAgICAgIGluc3RhbmNlLnNhZG5lc3MgPSBlbW90aW9uUmVzdWx0cy5zYWRuZXNzOwogICAgICAgICAgICAgIGluc3RhbmNlLmhhcHBpbmVzcyA9IGVtb3Rpb25SZXN1bHRzLmhhcHBpbmVzczsKCiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMiIpOwogICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgJ3sicGFnZVR5cGUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIHBhZ2VUeXBlICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJ1cmwiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIHVzYWJsZVVSTCArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcidGV4dCI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgdXNhYmxlVGV4dCArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciYW5nZXIiOicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UuYW5nZXIgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciZmVhciI6JyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS5mZWFyICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnInN1cnByaXNlIjonICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnN1cnByaXNlICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnImRpc2d1c3QiOicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UuZGlzZ3VzdCArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJzYWRuZXNzIjonICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnNhZG5lc3MgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciaGFwcGluZXNzIjonICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLmhhcHBpbmVzcyArCiAgICAgICAgICAgICAgICAifSwiOwogICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICBpbnN0YW5jZS5tc2cgPSBlcnJvcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoY291bnRlclRpY2tlcjIgPT09IHRpY2tlcjIgLSAxKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciAyIHNlY29uZHMuIik7CiAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0TW9yYWxGb3VuZGF0aW9ucygpOwogICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9LCA1MDAgKiBpMik7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0TW9yYWxGb3VuZGF0aW9uczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgd29ya2luZ0pTT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpczIiKS5pbm5lclRleHQ7CiAgICAgIGNvbnN0IG1pZGRsZUpTT04yID0gIlsiICsgd29ya2luZ0pTT04uc2xpY2UoMCwgLTEpICsgIl0iOwogICAgICBjb25zdCB3b3JraW5nSlNPTjIgPSBKU09OLnBhcnNlKG1pZGRsZUpTT04yKTsKICAgICAgbGV0IGkzLAogICAgICAgIGxlbjMgPSB3b3JraW5nSlNPTjIubGVuZ3RoOwogICAgICBjb25zdCB0aWNrZXIzID0gd29ya2luZ0pTT04yLmxlbmd0aDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzOwoKICAgICAgZm9yIChpMyA9IDA7IGkzIDwgbGVuMzsgaTMrKykgewogICAgICAgIGZpcmUoaTMpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBmaXJlKGkzKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiQW5hbHl6aW5nIG1vcmFsIGZvdW5kYXRpb25zIik7CgogICAgICAgICAgY29uc3QgdXNhYmxlVVJMMiA9IHdvcmtpbmdKU09OMltpM10udXJsOwogICAgICAgICAgY29uc3QgY291bnRlclRpY2tlcjMgPSBpMzsKICAgICAgICAgIGNvbnN0IGFuZ3J5ID0gd29ya2luZ0pTT04yW2kzXS5hbmdlcjsKICAgICAgICAgIGNvbnN0IGhhcHB5ID0gd29ya2luZ0pTT04yW2kzXS5oYXBwaW5lc3M7CiAgICAgICAgICBjb25zdCBkaXNndXN0ZWQgPSB3b3JraW5nSlNPTjJbaTNdLmRpc2d1c3Q7CiAgICAgICAgICBjb25zdCBmZWFyZnVsID0gd29ya2luZ0pTT04yW2kzXS5mZWFyOwogICAgICAgICAgY29uc3Qgc3VycHJpc2VkID0gd29ya2luZ0pTT04yW2kzXS5zdXJwcmlzZTsKICAgICAgICAgIGNvbnN0IHNhZCA9IHdvcmtpbmdKU09OMltpM10uc2FkbmVzczsKICAgICAgICAgIGNvbnN0IHVzYWJsZVRleHQyID0gd29ya2luZ0pTT04yW2kzXS50ZXh0OwogICAgICAgICAgY29uc3QgcGFnZVR5cGUyID0gInN1YlBhZ2UiOwogICAgICAgICAgY29uc3QgY2xpZW50ID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGluc3RhbmNlLmFwaUtFWSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwoKICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgICAgbW9kZWw6ICJncHQtMy41LXR1cmJvLWluc3RydWN0IiwKICAgICAgICAgICAgcHJvbXB0OgogICAgICAgICAgICAgICJBbmFseXplIHRoaXMgdGV4dCB0byBpZGVudGlmeSB3aGljaCBvZiB0aGVzZSBmaXZlIG1vcmFsIGZvdW5kYXRpb25zIHRoYXQgaXQgYmVzdCByZXByZXNlbnRzOiBjYXJlLCBmYWlybmVzcywgbG95YWx0eSwgYXV0aG9yaXR5LCBhbmQgcHVyaXR5LiBJbmNsdWRlIGFuIGV4cGxhbmF0aW9uLiBUZXh0OiIgKwogICAgICAgICAgICAgIHVzYWJsZVRleHQyICsKICAgICAgICAgICAgICAiLiIsCiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLAogICAgICAgICAgICBtYXhfdG9rZW5zOiAyNzUsCiAgICAgICAgICAgIHRvcF9wOiAxLAogICAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogMCwKICAgICAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogMCwKICAgICAgICAgIH07CgogICAgICAgICAgY2xpZW50CiAgICAgICAgICAgIC5wb3N0KCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2NvbXBsZXRpb25zIiwgcGFyYW1zKQogICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgaW5zdGFuY2UubXNnID0gIkFuYWx5emluZyBtb3JhbCBmb3VuZGF0aW9ucyBvZiI7CiAgICAgICAgICAgICAgaW5zdGFuY2UubXNnMiA9IHVzYWJsZVVSTDI7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEuY2hvaWNlc1swXS50ZXh0KTsKICAgICAgICAgICAgICBjb25zdCBtb3JhbEZvdW5kYXRpb25SZXN1bHRzID0KICAgICAgICAgICAgICAgIHJlc3VsdC5kYXRhLmNob2ljZXNbMF0udGV4dC5yZXBsYWNlQWxsKCciJywgIiIpOwogICAgICAgICAgICAgIGluc3RhbmNlLm1vcmFsRm91bmRhdGlvbkFuYWx5c2lzID0KICAgICAgICAgICAgICAgIG1vcmFsRm91bmRhdGlvblJlc3VsdHMucmVwbGFjZUFsbCgiJyIsICIiKTsKCiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpOwogICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgJ3sicGFnZVR5cGUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIHBhZ2VUeXBlMiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcidXJsIjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICB1c2FibGVVUkwyICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJ0ZXh0IjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICB1c2FibGVUZXh0MiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcibW9yYWxGb3VuZGF0aW9uIjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS5tb3JhbEZvdW5kYXRpb25BbmFseXNpcyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciYW5nZXIiOicgKwogICAgICAgICAgICAgICAgYW5ncnkgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciZmVhciI6JyArCiAgICAgICAgICAgICAgICBmZWFyZnVsICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnInN1cnByaXNlIjonICsKICAgICAgICAgICAgICAgIHN1cnByaXNlZCArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJkaXNndXN0IjonICsKICAgICAgICAgICAgICAgIGRpc2d1c3RlZCArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJzYWRuZXNzIjonICsKICAgICAgICAgICAgICAgIHNhZCArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJoYXBwaW5lc3MiOicgKwogICAgICAgICAgICAgICAgaGFwcHkgKwogICAgICAgICAgICAgICAgIn0sIjsKICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgdGhpcy5tc2cgPSBlcnJvcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoY291bnRlclRpY2tlcjMgPT09IHRpY2tlcjMgLSAxKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciA1IHNlY29uZHMuIik7CiAgICAgICAgICAgICAgaW5zdGFuY2UucmV0dXJuSlNPTigpOwogICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9LCA1MDAgKiBpMyk7IC8vdGltZW91dAogICAgICB9IC8vZmlyZQogICAgfSwKCiAgICByZXR1cm5KU09OOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB3b3JraW5nSlNPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpLmlubmVyVGV4dDsKICAgICAgdmFyIG1pZGRsZUpTT04gPSAiWyIgKyB3b3JraW5nSlNPTi5zbGljZSgwLCAtMSkgKyAiXSI7CiAgICAgIHRoaXMuSlNPTjMgPSBtaWRkbGVKU09OOwogICAgICBjb25zb2xlLmxvZygiSlNPTjI6ICIgKyB0aGlzLkpTT04zKTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzNCIpOwogICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwLmlubmVySFRNTCA9IHRoaXMuSlNPTjM7CiAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTsKCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciAxIHNlY29uZC4iKTsKICAgICAgICB0aGlzLnJlbmRlclZpc3VhbHMoKTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAoKICAgIHJlbmRlclZpc3VhbHM6IGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpc3VhbHMiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRoaW5raW5nSU1HIikucmVtb3ZlKCk7CgogICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICAgIGltZy5zcmMgPSAiaHR0cHM6Ly9tZWRpYS5naXBoeS5jb20vbWVkaWEvUUlSRGZLd1JGWHo2bkJDUWtGL2dpcGh5LmdpZiI7CiAgICAgIGltZy5zZXRBdHRyaWJ1dGUoImlkIiwgInRoaW5raW5nSU1HMiIpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVybWluYWwiKS5hcHBlbmRDaGlsZChpbWcpOwogICAgICB2YXIgd29ya2luZ0pTT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpczQiKS5pbm5lclRleHQ7CiAgICAgIHRoaXMuSlNPTjQgPSBKU09OLnBhcnNlKHdvcmtpbmdKU09OKTsKCiAgICAgIC8vY29uc3QgdXNhYmxlVGV4dCA9IEpTT04uc3RyaW5naWZ5KHRoaXMuSlNPTjFbMF0udGV4dCk7CgogICAgICBpZiAodGhpcy5KU09ONCAhPSBudWxsKSB7CiAgICAgICAgY29uc29sZS5sb2coInRlc3QiKTsKICAgICAgICB2YXIgaSwKICAgICAgICAgIGxlbiA9IHRoaXMuSlNPTjQubGVuZ3RoOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgY29uc3QgdXNhYmxlVVJMID0gdGhpcy5KU09ONFtpXS51cmw7CiAgICAgICAgICBjb25zdCBhbmdyeSA9IHRoaXMuSlNPTjRbaV0uYW5nZXI7CiAgICAgICAgICBjb25zdCBoYXBweSA9IHRoaXMuSlNPTjRbaV0uaGFwcGluZXNzOwogICAgICAgICAgY29uc3QgZGlzZ3VzdGVkID0gdGhpcy5KU09ONFtpXS5kaXNndXN0OwogICAgICAgICAgY29uc3QgZmVhcmZ1bCA9IHRoaXMuSlNPTjRbaV0uZmVhcjsKICAgICAgICAgIGNvbnN0IHN1cnByaXNlZCA9IHRoaXMuSlNPTjRbaV0uc3VycHJpc2U7CiAgICAgICAgICBjb25zdCBzYWQgPSB0aGlzLkpTT040W2ldLnNhZG5lc3M7CiAgICAgICAgICBjb25zdCBtb3JhbEFuYWx5c2lzID0gdGhpcy5KU09ONFtpXS5tb3JhbEZvdW5kYXRpb247CgogICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aXN1YWxzIik7CiAgICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAiPGgyPiIgKwogICAgICAgICAgICB1c2FibGVVUkwgKwogICAgICAgICAgICAiPC9oMj4iICsKICAgICAgICAgICAgIjxoMz5Nb3JhbCBGb3VuZGF0aW9ucyBBbmFseXNpczogPC9oMz4iICsKICAgICAgICAgICAgbW9yYWxBbmFseXNpcyArCiAgICAgICAgICAgICI8aDM+RW1vdGlvbmFsIEFuYWx5c2lzOiA8L2gzPjx1bD4iICsKICAgICAgICAgICAgIjxsaT4gQW5nZXI6ICIgKwogICAgICAgICAgICBhbmdyeSArCiAgICAgICAgICAgICI8L2xpPiIgKwogICAgICAgICAgICAiPGxpPiBGZWFyOiAiICsKICAgICAgICAgICAgZmVhcmZ1bCArCiAgICAgICAgICAgICI8L2xpPiIgKwogICAgICAgICAgICAiPGxpPiBTdXJwcmlzZTogIiArCiAgICAgICAgICAgIHN1cnByaXNlZCArCiAgICAgICAgICAgICI8L2xpPiIgKwogICAgICAgICAgICAiPGxpPiBEaXNndXN0OiAiICsKICAgICAgICAgICAgZGlzZ3VzdGVkICsKICAgICAgICAgICAgIjwvbGk+IiArCiAgICAgICAgICAgICI8bGk+IFNhZG5lc3M6ICIgKwogICAgICAgICAgICBzYWQgKwogICAgICAgICAgICAiPC9saT4iICsKICAgICAgICAgICAgIjxsaT4gSGFwcGluZXNzOiAiICsKICAgICAgICAgICAgaGFwcHkgKwogICAgICAgICAgICAiPC9saT4iICsKICAgICAgICAgICAgIjwvdWw+IjsKICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTsKCiAgICAgICAgICBpZiAoaSA9PT0gbGVuIC0gMSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRGVsYXllZCBmb3IgNCBzZWNvbmRzLiIpOwogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aGlua2luZ0lNRzIiKS5yZW1vdmUoKTsKICAgICAgICAgICAgICB0aGlzLm1zZyA9ICJBbmFseXNpcyBDb21wbGV0ZSI7CiAgICAgICAgICAgICAgdGhpcy5tc2cyID0gIiI7CiAgICAgICAgICAgICAgdGhpcy5nZXRPdmVyYWxsTW9yYWxGb3VuZGF0aW9uU2NvcmVzKCk7CiAgICAgICAgICAgIH0sIDQwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBnZXRPdmVyYWxsTW9yYWxGb3VuZGF0aW9uU2NvcmVzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc2hvd1Byb2Nlc3MyID0gZmFsc2U7CiAgICAgIHRoaXMubXNnID0gdGhpcy51cmxUb1NjcmFwZTsKICAgICAgdmFyIHdvcmtpbmdKU09OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWNpZmljQW5hbHlzaXM0IikuaW5uZXJUZXh0OwogICAgICBjb25zdCB0ZXN0ID0gSlNPTi5wYXJzZSh3b3JraW5nSlNPTik7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpczsKICAgICAgY29uc3QgcGFnZVR5cGUzID0gIm92ZXJhbGxNb3JhbCI7CiAgICAgIGxldCBvdmVyYWxsTW9yYWxBbmFseXNpcyA9ICIiOwoKICAgICAgY29uc3QgZSA9IHRlc3QubGVuZ3RoOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGU7IGkrKykgewogICAgICAgIG92ZXJhbGxNb3JhbEFuYWx5c2lzID0gb3ZlcmFsbE1vcmFsQW5hbHlzaXMgKz0gdGVzdFtpXS5tb3JhbEZvdW5kYXRpb24uc3Vic3RyaW5nKDAsIDEwMCkgKyAiLiI7CiAgICAgICAgaWYgKGkgPT09IGUgLSAxKSB7CiAgICAgICAgICBpbnN0YW5jZS5vdmVyYWxsU3VtbWFyeU91dHB1dCA9IG92ZXJhbGxNb3JhbEFuYWx5c2lzOwoKICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBpbnN0YW5jZS5hcGlLRVksCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KTsKCiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICAgIG1vZGVsOiAiZ3B0LTMuNS10dXJiby1pbnN0cnVjdCIsCiAgICAgICAgICAgIHByb21wdDoKICAgICAgICAgICAgICAnR2l2ZSBhbiBleHBsYW50YXRpb24gb2YgdGhlIG1vcmFsIGZvdW5kYXRpb25zIHRoYXQgYXJlIHJlcHJlc2VudGVkIGluIHRoZSBmb2xsb3dpbmcgdGV4dCBvdXQgb2YgY2FyZSwgZmFpcm5lc3MsIGxveWFsdHksIGF1dGhvcml0eSwgYW5kIHB1cml0eSBpbiBhZGRpdGlvbiB0byB0aGF0IGV4cGxhbmF0aW9uLCBpbmNsdWRlIHNjb3JlcyBiZXR3ZWVuIDEgYW5kIDEwIGZvciB0aGUgb2NjdXJlbmNlIG9mIGVhY2ggbW9yYWwgZm91bmRhdGlvbiBvZiBjYXJlLCBmYWlybmVzcywgbG95YWx0eSwgYXV0aG9yaXR5LCBhbmQgcHVyaXR5IGluIHRoZSB0ZXh0IGZvcm1hdHRlZCBpbiBKU09OIGFzIHsiY2FyZSI6IG51bWJlciBzY29yZSwiZmFpcm5lc3MiOiBudW1iZXIgc2NvcmUsImxveWFsdHkiOiBudW1iZXIgc2NvcmUsImF1dGhvcml0eSI6IG51bWJlciBzY29yZSwicHVyaXR5IjogbnVtYmVyIHNjb3JlfS4gVGV4dDonICsKICAgICAgICAgICAgICBpbnN0YW5jZS5vdmVyYWxsU3VtbWFyeU91dHB1dCArCiAgICAgICAgICAgICAgIi4iLAogICAgICAgICAgICB0ZW1wZXJhdHVyZTogMCwKICAgICAgICAgICAgbWF4X3Rva2VuczogMzUwMCwKICAgICAgICAgICAgdG9wX3A6IDEsCiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiAwLAogICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiAwLAogICAgICAgICAgfTsKCiAgICAgICAgICBjbGllbnQKICAgICAgICAgICAgLnBvc3QoImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY29tcGxldGlvbnMiLCBwYXJhbXMpCiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICBpbnN0YW5jZS5tc2cgPSBpbnN0YW5jZS51cmxUb1NjcmFwZTsKICAgICAgICAgICAgICBjb25zdCByYXdSZXN1bHRBID0gcmVzdWx0LmRhdGEuY2hvaWNlc1swXS50ZXh0OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJhd1Jlc3VsdEEpOwogICAgICAgICAgICAgIGNvbnN0IGp1c3RUaGVUZXh0QSA9IHJhd1Jlc3VsdEEuc3Vic3RyaW5nKHJhd1Jlc3VsdEEuaW5kZXhPZigifSIpICsgMSk7CiAgICAgICAgICAgICAgY29uc3QganVzdFRoZUpTT05BID0gcmF3UmVzdWx0QS5zdWJzdHJpbmcoMCwgcmF3UmVzdWx0QS5pbmRleE9mKCJ9IikrMSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coanVzdFRoZVRleHRBICsgIiA6ICIgKyBqdXN0VGhlSlNPTkEpOwogICAgICAgICAgICAgIGNvbnN0IG1vcmFsUmVzdWx0c0EgPSBKU09OLnBhcnNlKGp1c3RUaGVKU09OQSk7CiAgICAgICAgICAgICAgY29uc3Qgb3ZlcmFsbENhcmUgPSBtb3JhbFJlc3VsdHNBLmNhcmU7CiAgICAgICAgICAgICAgY29uc3Qgb3ZlcmFsbEZhaXJuZXNzID0gbW9yYWxSZXN1bHRzQS5mYWlybmVzczsKICAgICAgICAgICAgICBjb25zdCBvdmVyYWxsTG95YWx0eSA9IG1vcmFsUmVzdWx0c0EubG95YWx0eTsKICAgICAgICAgICAgICBjb25zdCBvdmVyYWxsQXV0aG9yaXR5ID0gbW9yYWxSZXN1bHRzQS5hdXRob3JpdHk7CiAgICAgICAgICAgICAgY29uc3Qgb3ZlcmFsbFB1cml0eSA9IG1vcmFsUmVzdWx0c0EucHVyaXR5OwogICAgICAgICAgICAgIGluc3RhbmNlLm92ZXJhbGxPdXRwdXRFeHBsYW5hdGlvbiA9IGp1c3RUaGVUZXh0QQogICAgICAgICAgICAgIC8vY29uc3QgbW9yYWxGb3VuZGF0aW9uUmVzdWx0czMgPSBqdXN0VGhlVGV4dEE7CiAgICAgICAgICAgICAgLy8ganVzdFRoZVRleHRBLnRleHQucmVwbGFjZUFsbCgnIicsICIiKTsKICAgICAgICAgICAgICAvLyAJCQkJCWluc3RhbmNlLm1vcmFsRm91bmRhdGlvbkFuYWx5c2lzID0gbW9yYWxGb3VuZGF0aW9uUmVzdWx0czMucmVwbGFjZUFsbCgiJyIsICIiKTsKICAgICAgICAgICAgICAvLyAJCQkJCWluc3RhbmNlLm92ZXJhbGxTdW1tYXJ5T3V0cHV0ID0gaW5zdGFuY2UubW9yYWxGb3VuZGF0aW9uQW5hbHlzaXMKCiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpOwogICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgJ3sicGFnZVR5cGUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIHBhZ2VUeXBlMyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcidXJsIjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS51cmxUb1NjcmFwZSArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcib3ZlcmFsbENhcmUiOicgKwogICAgICAgICAgICAgICAgb3ZlcmFsbENhcmUgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcib3ZlcmFsbEZhaXJuZXNzIjonICsKICAgICAgICAgICAgICAgIG92ZXJhbGxGYWlybmVzcyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJvdmVyYWxsTG95YWx0eSI6JyArCiAgICAgICAgICAgICAgICBvdmVyYWxsTG95YWx0eSArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJvdmVyYWxsQXV0aG9yaXR5IjonICsKICAgICAgICAgICAgICAgIG92ZXJhbGxBdXRob3JpdHkgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcib3ZlcmFsbFB1cml0eSI6JyArCiAgICAgICAgICAgICAgICBvdmVyYWxsUHVyaXR5ICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIm1vcmFsRm91bmRhdGlvbk92ZXJhbGwiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGp1c3RUaGVUZXh0QSArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIn0sIjsKICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgCgogICAgICAgICAgICAgIHZhciBkYXRhID0gWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICB4OiBbIkNhcmUiLCAiRmFpcm5lc3MiLCAiTG95YWx0eSIsICJBdXRob3JpdHkiLCAiUHVyaXR5Il0sCiAgICAgICAgICAgICAgICAgIHk6IFsKICAgICAgICAgICAgICAgICAgICBvdmVyYWxsQ2FyZSwKICAgICAgICAgICAgICAgICAgICBvdmVyYWxsRmFpcm5lc3MsCiAgICAgICAgICAgICAgICAgICAgb3ZlcmFsbExveWFsdHksCiAgICAgICAgICAgICAgICAgICAgb3ZlcmFsbEF1dGhvcml0eSwKICAgICAgICAgICAgICAgICAgICBvdmVyYWxsUHVyaXR5LAogICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICB0eXBlOiAiYmFyIiwKICAgICAgICAgICAgICAgICAgbWFya2VyOiB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFsKICAgICAgICAgICAgICAgICAgICAgICIjYmY0ZTMwIiwKICAgICAgICAgICAgICAgICAgICAgICIjYzZjY2IyIiwKICAgICAgICAgICAgICAgICAgICAgICIjOTNmZjk2IiwKICAgICAgICAgICAgICAgICAgICAgICIjZTVlYWZhIiwKICAgICAgICAgICAgICAgICAgICAgICIjNzhmZWNmIiwKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBdOwoKICAgICAgICAgICAgICB2YXIgbGF5b3V0ID0gewogICAgICAgICAgICAgICAgaGVpZ2h0OiA0NTAsCiAgICAgICAgICAgICAgICB3aWR0aDogNDUwLAogICAgICAgICAgICAgICAgc2hvd2xlZ2VuZDogZmFsc2UsCiAgICAgICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAiIzJiMmQ0MiIsCiAgICAgICAgICAgICAgICBwbG90X2JnY29sb3I6ICIjMmIyZDQyIiwKICAgICAgICAgICAgICAgIHRpdGxlOiAiTW9yYWwgRm91bmRhdGlvbnMiLAogICAgICAgICAgICAgICAgZm9udDogewogICAgICAgICAgICAgICAgICBmYW1pbHk6ICJBcmlhbCwgbW9ub3NwYWNlIiwKICAgICAgICAgICAgICAgICAgc2l6ZTogMjUsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAid2hpdGUiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHZhciBjb25maWcgPSB7IHJlc3BvbnNpdmU6IHRydWUgfTsKICAgICAgICAgICAgICBQbG90bHkubmV3UGxvdCgib3ZlcmFsbE1vcmFsRm91bmRhdGlvbnMiLCBkYXRhLCBsYXlvdXQsIGNvbmZpZyk7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRGVsYXllZCBmb3IgMSBzZWNvbmQuIik7CiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck92ZXJhbGxFbW90aW9uKCk7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgdGhpcy5tc2cgPSBlcnJvcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIHJlbmRlck92ZXJhbGxFbW90aW9uOiBmdW5jdGlvbiAoKSB7CiAgICAgIC8vdmFyIHdvcmtpbmdKU09OID0KICAgICAgLy90aGlzLkpTT040ID0gSlNPTi5wYXJzZSh3b3JraW5nSlNPTik7CiAgICAgIHZhciB3b3JraW5nSlNPTkIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpczQiKS5pbm5lclRleHQ7CiAgICAgIGNvbnN0IHRlc3QgPSBKU09OLnBhcnNlKHdvcmtpbmdKU09OQik7CiAgICAgIGxldCBvdmVyYWxsQW5nZXIgPSAwOwogICAgICBsZXQgb3ZlcmFsbEZlYXIgPSAwOwogICAgICBsZXQgb3ZlcmFsbEhhcHBpbmVzcyA9IDA7CiAgICAgIGxldCBvdmVyYWxsU3VycHJpc2UgPSAwOwogICAgICBsZXQgb3ZlcmFsbFNhZG5lc3MgPSAwOwogICAgICBsZXQgb3ZlcmFsbERpc2d1c3QgPSAwOwogICAgICBjb25zb2xlLmxvZyh0ZXN0Lmxlbmd0aCk7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpczsKICAgICAgY29uc3QgZSA9IHRlc3QubGVuZ3RoOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGU7IGkrKykgewogICAgICAgIG92ZXJhbGxBbmdlciA9IG92ZXJhbGxBbmdlciArIHRlc3RbaV0uYW5nZXI7CiAgICAgICAgb3ZlcmFsbEZlYXIgPSBvdmVyYWxsRmVhciArIHRlc3RbaV0uZmVhcjsKICAgICAgICBvdmVyYWxsSGFwcGluZXNzID0gb3ZlcmFsbEhhcHBpbmVzcyArIHRlc3RbaV0uaGFwcGluZXNzOwogICAgICAgIG92ZXJhbGxTdXJwcmlzZSA9IG92ZXJhbGxTdXJwcmlzZSArIHRlc3RbaV0uc3VycHJpc2U7CiAgICAgICAgb3ZlcmFsbFNhZG5lc3MgPSBvdmVyYWxsU2FkbmVzcyArIHRlc3RbaV0uc2FkbmVzczsKICAgICAgICBvdmVyYWxsRGlzZ3VzdCA9IG92ZXJhbGxEaXNndXN0ICsgdGVzdFtpXS5kaXNndXN0OwogICAgICAgIGlmIChpID09PSBlIC0gMSkgewogICAgICAgICAgb3ZlcmFsbEFuZ2VyID0gTWF0aC5yb3VuZChvdmVyYWxsQW5nZXIgLyBlKSAqIDEwOwogICAgICAgICAgb3ZlcmFsbEZlYXIgPSBNYXRoLnJvdW5kKG92ZXJhbGxGZWFyIC8gZSkgKiAxMDsKICAgICAgICAgIG92ZXJhbGxIYXBwaW5lc3MgPSBNYXRoLnJvdW5kKG92ZXJhbGxIYXBwaW5lc3MgLyBlKSAqIDEwOwogICAgICAgICAgb3ZlcmFsbFN1cnByaXNlID0gTWF0aC5yb3VuZChvdmVyYWxsU3VycHJpc2UgLyBlKSAqIDEwOwogICAgICAgICAgb3ZlcmFsbFNhZG5lc3MgPSBNYXRoLnJvdW5kKG92ZXJhbGxTYWRuZXNzIC8gZSkgKiAxMDsKICAgICAgICAgIG92ZXJhbGxEaXNndXN0ID0gTWF0aC5yb3VuZChvdmVyYWxsRGlzZ3VzdCAvIGUpICogMTA7CgogICAgICAgICAgdmFyIGRhdGEgPSBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0eXBlOiAicGllIiwKICAgICAgICAgICAgICB2YWx1ZXM6IFsKICAgICAgICAgICAgICAgIG92ZXJhbGxBbmdlciwKICAgICAgICAgICAgICAgIG92ZXJhbGxGZWFyLAogICAgICAgICAgICAgICAgb3ZlcmFsbEhhcHBpbmVzcywKICAgICAgICAgICAgICAgIG92ZXJhbGxTdXJwcmlzZSwKICAgICAgICAgICAgICAgIG92ZXJhbGxTYWRuZXNzLAogICAgICAgICAgICAgICAgb3ZlcmFsbERpc2d1c3QsCiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICBsYWJlbHM6IFsKICAgICAgICAgICAgICAgICJBbmdlciIsCiAgICAgICAgICAgICAgICAiRmVhciIsCiAgICAgICAgICAgICAgICAiSGFwcGluZXNzIiwKICAgICAgICAgICAgICAgICJTdXJwcmlzZSIsCiAgICAgICAgICAgICAgICAiU2FkbmVzcyIsCiAgICAgICAgICAgICAgICAiRGlzZ3VzdCIsCiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICB0ZXh0aW5mbzogImxhYmVsK3BlcmNlbnQiLAogICAgICAgICAgICAgIHRleHRwb3NpdGlvbjogIm91dHNpZGUiLAogICAgICAgICAgICAgIG1hcmtlcjogewogICAgICAgICAgICAgICAgY29sb3JzOiBbCiAgICAgICAgICAgICAgICAgICIjZmYwMDIyIiwKICAgICAgICAgICAgICAgICAgIiNmZmJjNDIiLAogICAgICAgICAgICAgICAgICAiIzA0OTZmZiIsCiAgICAgICAgICAgICAgICAgICIjNjk0ZDc1IiwKICAgICAgICAgICAgICAgICAgIiMxYjUyOTkiLAogICAgICAgICAgICAgICAgICAiIzQwNDM0ZSIsCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICBdOwoKICAgICAgICAgIHZhciBsYXlvdXQgPSB7CiAgICAgICAgICAgIGhlaWdodDogNDUwLAogICAgICAgICAgICB3aWR0aDogNDUwLAogICAgICAgICAgICBzaG93bGVnZW5kOiBmYWxzZSwKICAgICAgICAgICAgcGFwZXJfYmdjb2xvcjogIiMyYjJkNDIiLAogICAgICAgICAgICB0aXRsZTogIkVtb3Rpb25zIiwKICAgICAgICAgICAgZm9udDogewogICAgICAgICAgICAgIGZhbWlseTogIkFyaWFsLCBtb25vc3BhY2UiLAogICAgICAgICAgICAgIHNpemU6IDI1LAogICAgICAgICAgICAgIGNvbG9yOiAid2hpdGUiLAogICAgICAgICAgICB9LAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBjb25maWcgPSB7IHJlc3BvbnNpdmU6IHRydWUgfTsKICAgICAgICAgIFBsb3RseS5uZXdQbG90KCJvdmVyYWxsRW1vdGlvbnMiLCBkYXRhLCBsYXlvdXQsIGNvbmZpZyk7CgogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciAxIHNlY29uZC4iKTsKICAgICAgICAgICAgaW5zdGFuY2UucmV0dXJuSlNPTkFnYWluKCk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgcmV0dXJuSlNPTkFnYWluOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB3b3JraW5nSlNPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpLmlubmVyVGV4dDsKICAgICAgdmFyIG1pZGRsZUpTT04gPSAiWyIgKyB3b3JraW5nSlNPTi5zbGljZSgwLCAtMSkgKyAiXSI7CiAgICAgIGNvbnN0IG1pZGRsZVdvcmtpbmdKU09OID0gbWlkZGxlSlNPTjsKICAgICAgY29uc29sZS5sb2coIkpTT04yOiAiICsgbWlkZGxlV29ya2luZ0pTT04pOwogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWNpZmljQW5hbHlzaXM1Iik7CiAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHAuaW5uZXJIVE1MID0gbWlkZGxlV29ya2luZ0pTT047CiAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTsKICAgIH0sCgogICAgZ2V0UmVhZGFiaWxpdHlTdGF0czogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlYWRhYmlsaXR5ID0gcnMuZ3VubmluZ0ZvZyh0aGlzLndvcmtpbmdPdXRwdXQpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnJlYWRhYmlsaXR5ICsgIiAiICsgdGhpcy53b3JraW5nT3V0cHV0KTsKICAgIH0sCgogICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAoKICAgIHVuaGlkZURhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJhd0RhdGEiKS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICB9LAoKICAgIGhpZGVEYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyYXdEYXRhIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sCgogICAgcmVuZGVyRGF0YTogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICB0aGlzLmdldEVtb3Rpb25TdGF0cygpOwogICAgICAgIHRoaXMuZ2V0UmVhZGFiaWxpdHlTdGF0cygpOwogICAgICAgIHJlc29sdmUoIkRhdGEgcmVuZGVyZWQhIik7CiAgICAgICAgcmVqZWN0KCJEYXRhIHJlbmRlciBmYWlsZWQiKTsKICAgICAgfSk7CgogICAgICBwcm9taXNlMS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmNvbnN0cnVjdEpTT04oKTsKICAgICAgICB0aGlzLnZpc3VhbGl6ZURhdGEoKTsKICAgICAgICB0aGlzLnJlc2V0V29ya2luZ091dHB1dCgpOwogICAgICAgIGNvbnNvbGUubG9nKCJKU09OIGFuZCBjaGFydHMgY29uc3RydWN0ZWQiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNvbnN0cnVjdEpTT046IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jdXJyZW50RGF0YU9iamVjdCA9CiAgICAgICAgJ3sidGltZSI6JyArCiAgICAgICAgJyInICsKICAgICAgICB0aGlzLndvcmtpbmdUaW1lICsKICAgICAgICAnIicgKwogICAgICAgICIsIiArCiAgICAgICAgJyJ3cG0iOicgKwogICAgICAgICciJyArCiAgICAgICAgdGhpcy53cG0gKwogICAgICAgICciJyArCiAgICAgICAgIiwiICsKICAgICAgICAnImNvbnRlbnQiOicgKwogICAgICAgICciJyArCiAgICAgICAgdGhpcy53b3JraW5nT3V0cHV0ICsKICAgICAgICAnIicgKwogICAgICAgICIsIiArCiAgICAgICAgJyJBbmdyeSI6JyArCiAgICAgICAgdGhpcy5hbmdlciArCiAgICAgICAgIiwiICsKICAgICAgICAnIkZlYXIiOicgKwogICAgICAgIHRoaXMuZmVhciArCiAgICAgICAgIiwiICsKICAgICAgICAnIkV4Y2l0ZWQiOicgKwogICAgICAgIHRoaXMuZXhjaXRlbWVudCArCiAgICAgICAgIiwiICsKICAgICAgICAnIkJvcmVkIjonICsKICAgICAgICB0aGlzLmJvcmVkb20gKwogICAgICAgICIsIiArCiAgICAgICAgJyJTYWQiOicgKwogICAgICAgIHRoaXMuc2FkbmVzcyArCiAgICAgICAgIiwiICsKICAgICAgICAnIkhhcHB5IjonICsKICAgICAgICB0aGlzLmhhcHBpbmVzcyArCiAgICAgICAgIiwiICsKICAgICAgICAnInZvbHVtZSI6JyArCiAgICAgICAgdGhpcy52b2x1bWVWYWx1ZSArCiAgICAgICAgIiwiICsKICAgICAgICAnInJlYWRhYmlsaXR5IjonICsKICAgICAgICB0aGlzLnJlYWRhYmlsaXR5ICsKICAgICAgICAiLCIgKwogICAgICAgICciZmFjZUFuZ2VyIjonICsKICAgICAgICB0aGlzLmZhY2VBbmdyeSArCiAgICAgICAgIiwiICsKICAgICAgICAnImZhY2VEaXNndXN0IjonICsKICAgICAgICB0aGlzLmZhY2VEaXNndXN0ZWQgKwogICAgICAgICIsIiArCiAgICAgICAgJyJmYWNlRmVhciI6JyArCiAgICAgICAgdGhpcy5mYWNlRmVhcmZ1bCArCiAgICAgICAgIiwiICsKICAgICAgICAnImZhY2VIYXBwaW5lc3MiOicgKwogICAgICAgIHRoaXMuZmFjZUhhcHB5ICsKICAgICAgICAiLCIgKwogICAgICAgICciZmFjZU5ldXRyYWwiOicgKwogICAgICAgIHRoaXMuZmFjZU5ldXRyYWwgKwogICAgICAgICIsIiArCiAgICAgICAgJyJmYWNlU2FkbmVzcyI6JyArCiAgICAgICAgdGhpcy5mYWNlU2FkICsKICAgICAgICAiLCIgKwogICAgICAgICciZmFjZVN1cnByaXNlIjonICsKICAgICAgICB0aGlzLmZhY2VTdXJwcmlzZWQgKwogICAgICAgICJ9LCI7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmF3RGF0YSIpOwogICAgICBkaXYuaW5uZXJIVE1MICs9IHRoaXMuY3VycmVudERhdGFPYmplY3Q7CiAgICAgIHRoaXMub3ZlcmFsbERhdGFPYmplY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmF3RGF0YSIpLmlubmVySFRNTDsKICAgIH0sCgogICAgcGRmUmVzdWx0czogZnVuY3Rpb24gKCkgewogICAgICB3aW5kb3cucHJpbnQoKTsKICAgIH0sCiAgfSwgLy8KfTsgLy8K"},{"version":3,"sources":["discourse_crawler.vue"],"names":[],"mappings":";AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"discourse_crawler.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"body\" class=\"dashboard\">\n    <h1 v-if=\"showProcess3\" id=\"mainTitle\">{{ msg }}</h1>\n    <p v-if=\"showProcess2\" id=\"messageTwo\">\n      {{ msg2 }}\n    </p>\n    <p v-if=\"showProcess\" id=\"messageThree\">\n      {{ msg3 }}\n    </p>\n    <p id=\"results\">\n      <span id=\"overallMoralFoundations\"></span\n      ><span id=\"overallEmotions\"></span>\n    </p>\n    <section v-if=\"!showProcess2\" id=\"overalExplanation\">\n      {{ overallOutputExplanation }}\n    </section>\n    <input\n      id=\"APIinput\"\n      type=\"text\"\n      v-model=\"apiKEY\"\n      v-if=\"showAPI\"\n      placeholder=\"Enter OpenAI API Key\"\n    /><br /><span v-if=\"showAPI\"\n      >Set up an OpenAI account and get an API key\n      <a href=\"https://openai.com/product\">here</a>.</span\n    >\n    <br /><button v-if=\"showAPI\" id=\"apiButton\" @click=\"registerAPI\">\n      Set API Key\n    </button>\n    <br /><br /><br />\n    <input\n      v-if=\"showProcess\"\n      id=\"URLInput\"\n      type=\"input\"\n      v-model=\"urlToScrape\"\n      placeholder=\"Enter URL to Crawl\"\n    />\n    <p></p>\n    <button v-if=\"showProcess\" id=\"startButton\" @click=\"grabPage\">\n      Crawl Website\n    </button>\n\n    <!-- <button @click=\"renderVisuals\">Overall</button> \n\n   \n    <button @click=\"getEmotionStats\">Analyze Emotion</button>\n    \n    <button @click=\"returnJSON\">Return Usable JSON</button>\n    <button @click=\"renderVisuals\">Visualize</button>\n -->\n\n    <p id=\"terminal\"></p>\n    <section id=\"visuals\" class=\"visuals\"></section>\n    <section id=\"specificAnalysis\"></section>\n    <section id=\"specificAnalysis2\"></section>\n    <section id=\"specificAnalysis3\"></section>\n    <section id=\"specificAnalysis4\"></section>\n    <section id=\"specificAnalysis5\"></section>\n  </div>\n</template>\n\n<script>\n//import paralleldots from \"paralleldots\";\nimport * as rs from \"text-readability\";\n//import * as cheerio from 'cheerio';\nimport axios from \"axios\";\nimport Plotly from \"plotly.js-dist\";\n//import OpenAI from \"openai\";\nexport default {\n  name: \"discourse_crawler\",\n  props: {},\n  data() {\n    return {\n      msg: \"Discourse Crawler\",\n      msg2: \"An AI-powered tool for performing top-level analysis of websites.\",\n      msg3: \"\",\n      urlToScrape: \"\",\n      pageText: \"\",\n      anger: 0,\n      fear: 0,\n      surprise: 0,\n      disgust: 0,\n      sadness: 0,\n      happiness: 0,\n      readability: 0,\n      loading: true,\n      showProcess: true,\n      showProcess2: true,\n      showProcess3: true,\n      showAPI: true,\n      anchorsForCrawl: [],\n      secondIteration: false,\n      JSON1: null,\n      JSON2: null,\n      JSON3: null,\n      JSON4: null,\n      moralFoundationAnalysis: \"\",\n      apiKEY: \"\",\n      unique: [],\n      overallSummaryOutput: \"\",\n      overallOutputExplanation: \"\"\n    };\n  },\n\n  created: function () {},\n\n  methods: {\n    registerAPI: function () {\n      this.showAPI = false;\n    },\n\n    grabPage: function () {\n      this.showProcess = false;\n      let img = document.createElement(\"img\");\n      img.src =\n        \"https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExc3dqdTFidnN6enl2bmZ0b2RndGl0Y29oMWJiOHo0bDc2d3d6YnF3bCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/HN6GLlUsMvue652b2w/giphy.gif\";\n      img.setAttribute(\"id\", \"thinkingIMG\");\n      document.getElementById(\"terminal\").appendChild(img);\n      const url =\n        \"https://api.allorigins.win/raw?url=\" +\n        encodeURIComponent(this.urlToScrape) +\n        \"&callback=?\";\n\n      axios\n        .get(url)\n        .then((response) => {\n          const data = response.data;\n          const data2 = data.replace(/\\s+/g, \" \").trim();\n          const parser = new DOMParser();\n          const html = parser.parseFromString(data2, \"text/html\");\n          const workingHTML = html;\n          workingHTML\n            .querySelectorAll(\"script, style\")\n            .forEach((s) => s.remove());\n          let htmlWithoutScripts = workingHTML\n            .querySelector(\"body\")\n            .innerText.trim();\n\n          if (this.secondIteration == false) {\n            var anchors = [],\n              l = html.links;\n            const tickerA = html.links.length;\n            for (var i = 0; i < l.length; i++) {\n              const counterTickerA = i;\n              if (html.links[i].href.includes(this.urlToScrape)) {\n                anchors.push(l[i].href);\n              }\n              if (counterTickerA === tickerA - 1) {\n                this.pageText = htmlWithoutScripts;\n                this.anchorsForCrawl = anchors.filter(function (item, pos) {\n                  return anchors.indexOf(item) == pos;\n                });\n                console.log(this.anchorsForCrawl);\n\n                setTimeout(() => {\n                  console.log(\"Delayed for 2 seconds.\");\n                  this.grabSubpages();\n                }, 2000);\n              }\n            }\n          }\n        })\n        .catch((errors) => {\n          console.log(errors);\n          this.msg = errors; // Errors and stuff\n        });\n    },\n\n    grabSubpages: function () {\n      let i,\n        len = this.anchorsForCrawl.length;\n      const ticker = this.anchorsForCrawl.length;\n      const workingAnchorsArray = this.anchorsForCrawl;\n      const instance = this;\n      for (i = 0; i < len; i++) {\n        fire(i);\n      }\n\n      function fire(i) {\n        setTimeout(function () {\n          const usableURL = workingAnchorsArray[i];\n          const counterTicker = i;\n\n          var url =\n            \"https://api.allorigins.win/raw?url=\" +\n            encodeURIComponent(usableURL) +\n            \"&callback=?\";\n          axios\n            .get(url)\n            .then((response) => {\n              const data = response.data;\n              const data2 = data.replace(/\\s+/g, \" \").trim();\n              const parser = new DOMParser();\n              const html = parser.parseFromString(data2, \"text/html\");\n              const workingHTML = html;\n              workingHTML\n                .querySelectorAll(\"script, style\")\n                .forEach((s) => s.remove());\n              let htmlWithoutScripts = workingHTML\n                .querySelector(\"body\")\n                .innerText.trim();\n              console.log(\"Crawling:\" + i + \" \" + usableURL);\n\n              instance.msg = \"Crawling\";\n              instance.msg2 = workingAnchorsArray[i];\n\n              if (htmlWithoutScripts.length <= 1999) {\n                const workingActualText = htmlWithoutScripts.substring(100, 0);\n                const workingActualText2 = workingActualText.replace(/\"/g, \" \");\n                const actualText = workingActualText2.replace(/'/g, \" \");\n                var div = document.getElementById(\"specificAnalysis\");\n                var p = document.createElement(\"div\");\n                p.innerHTML =\n                  '{\"url\":' +\n                  '\"' +\n                  usableURL +\n                  '\"' +\n                  \",\" +\n                  '\"text\":' +\n                  '\"' +\n                  actualText +\n                  '\"' +\n                  \"},\";\n                div.appendChild(p);\n              } else {\n                const workingActualText = htmlWithoutScripts.substring(\n                  100,\n                  2000\n                );\n                const workingActualText2 = workingActualText.replaceAll(\n                  '\"',\n                  \" \"\n                );\n                const actualText = workingActualText2.replaceAll(\"'\", \" \");\n                var div2 = document.getElementById(\"specificAnalysis\");\n                var p2 = document.createElement(\"div\");\n                p2.innerHTML =\n                  '{\"url\":' +\n                  '\"' +\n                  usableURL +\n                  '\"' +\n                  \",\" +\n                  '\"text\":' +\n                  '\"' +\n                  actualText +\n                  '\"' +\n                  \"},\";\n                div2.appendChild(p2);\n              }\n              if (counterTicker === ticker - 1) {\n                setTimeout(() => {\n                  console.log(\"Delayed for 2 seconds.\");\n                  instance.getEmotionStats();\n                }, 2000);\n              }\n            })\n            .catch((errors) => {\n              console.log(errors);\n              this.msg = errors; // Errors\n            });\n        }, 2000 * i);\n      }\n    },\n\n    getEmotionStats: function () {\n      var workingJSON = document.getElementById(\"specificAnalysis\").innerText;\n      const middleJSON = \"[\" + workingJSON.slice(0, -1) + \"]\";\n      const workingJSON1 = JSON.parse(middleJSON);\n      let i2,\n        len2 = workingJSON1.length;\n      const ticker2 = workingJSON1.length;\n      const instance = this;\n\n      for (i2 = 0; i2 < len2; i2++) {\n        fire(i2);\n      }\n\n      function fire(i2) {\n        setTimeout(function () {\n          //const usableText = JSON.stringify(this.JSON1[0].text);\n          // const dotenv = require(\"dotenv\");\n          // dotenv.config();\n\n          console.log(\"Analyzing Emotion\");\n\n          const usableURL = workingJSON1[i2].url;\n          const counterTicker2 = i2;\n          const usableText = workingJSON1[i2].text;\n\n          const client = axios.create({\n            headers: {\n              Authorization: \"Bearer \" + instance.apiKEY,\n            },\n          });\n\n          const params = {\n            model: \"gpt-3.5-turbo-instruct\",\n            prompt:\n              'Perform sentiment analysis on the following text, outputting scores between 1 and 10 for anger, fear, happiness, surprise, sadness, and disgust, returning the response in JSON only. Format as {\"anger\": number score,\"fear\": number score,\"happiness\": number score,\"surprise\": number score,\"sadness\": number score,\"disgust\": number score}. ' +\n              usableText +\n              \".\",\n            temperature: 0,\n            max_tokens: 256,\n            top_p: 1,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n          };\n\n          client\n            .post(\"https://api.openai.com/v1/completions\", params)\n            .then((result) => {\n              instance.msg = \"Analyzing emotion of\";\n              instance.msg2 = usableURL;\n              const rawResult = result.data.choices[0].text;\n              const justTheJSON = rawResult.substring(rawResult.indexOf(\"{\"));\n              const pageType = \"subPage\";\n              console.log(i2 + \": \" + justTheJSON);\n\n              const emotionResults = JSON.parse(justTheJSON);\n              instance.anger = emotionResults.anger;\n              instance.fear = emotionResults.fear;\n              instance.surprise = emotionResults.surprise;\n              instance.disgust = emotionResults.disgust;\n              instance.sadness = emotionResults.sadness;\n              instance.happiness = emotionResults.happiness;\n\n              var div = document.getElementById(\"specificAnalysis2\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                pageType +\n                '\"' +\n                \",\" +\n                '\"url\":' +\n                '\"' +\n                usableURL +\n                '\"' +\n                \",\" +\n                '\"text\":' +\n                '\"' +\n                usableText +\n                '\"' +\n                \",\" +\n                '\"anger\":' +\n                instance.anger +\n                \",\" +\n                '\"fear\":' +\n                instance.fear +\n                \",\" +\n                '\"surprise\":' +\n                instance.surprise +\n                \",\" +\n                '\"disgust\":' +\n                instance.disgust +\n                \",\" +\n                '\"sadness\":' +\n                instance.sadness +\n                \",\" +\n                '\"happiness\":' +\n                instance.happiness +\n                \"},\";\n              div.appendChild(p);\n            })\n            .catch((error) => {\n              console.log(error);\n              instance.msg = error;\n            });\n          if (counterTicker2 === ticker2 - 1) {\n            setTimeout(() => {\n              console.log(\"Delayed for 2 seconds.\");\n              instance.getMoralFoundations();\n            }, 2000);\n          }\n        }, 500 * i2);\n      }\n    },\n\n    getMoralFoundations: function () {\n      var workingJSON = document.getElementById(\"specificAnalysis2\").innerText;\n      const middleJSON2 = \"[\" + workingJSON.slice(0, -1) + \"]\";\n      const workingJSON2 = JSON.parse(middleJSON2);\n      let i3,\n        len3 = workingJSON2.length;\n      const ticker3 = workingJSON2.length;\n      const instance = this;\n\n      for (i3 = 0; i3 < len3; i3++) {\n        fire(i3);\n      }\n\n      function fire(i3) {\n        setTimeout(function () {\n          console.log(\"Analyzing moral foundations\");\n\n          const usableURL2 = workingJSON2[i3].url;\n          const counterTicker3 = i3;\n          const angry = workingJSON2[i3].anger;\n          const happy = workingJSON2[i3].happiness;\n          const disgusted = workingJSON2[i3].disgust;\n          const fearful = workingJSON2[i3].fear;\n          const surprised = workingJSON2[i3].surprise;\n          const sad = workingJSON2[i3].sadness;\n          const usableText2 = workingJSON2[i3].text;\n          const pageType2 = \"subPage\";\n          const client = axios.create({\n            headers: {\n              Authorization: \"Bearer \" + instance.apiKEY,\n            },\n          });\n\n          const params = {\n            model: \"gpt-3.5-turbo-instruct\",\n            prompt:\n              \"Analyze this text to identify which of these five moral foundations that it best represents: care, fairness, loyalty, authority, and purity. Include an explanation. Text:\" +\n              usableText2 +\n              \".\",\n            temperature: 0,\n            max_tokens: 275,\n            top_p: 1,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n          };\n\n          client\n            .post(\"https://api.openai.com/v1/completions\", params)\n            .then((result) => {\n              instance.msg = \"Analyzing moral foundations of\";\n              instance.msg2 = usableURL2;\n              console.log(result.data.choices[0].text);\n              const moralFoundationResults =\n                result.data.choices[0].text.replaceAll('\"', \"\");\n              instance.moralFoundationAnalysis =\n                moralFoundationResults.replaceAll(\"'\", \"\");\n\n              var div = document.getElementById(\"specificAnalysis3\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                pageType2 +\n                '\"' +\n                \",\" +\n                '\"url\":' +\n                '\"' +\n                usableURL2 +\n                '\"' +\n                \",\" +\n                '\"text\":' +\n                '\"' +\n                usableText2 +\n                '\"' +\n                \",\" +\n                '\"moralFoundation\":' +\n                '\"' +\n                instance.moralFoundationAnalysis +\n                '\"' +\n                \",\" +\n                '\"anger\":' +\n                angry +\n                \",\" +\n                '\"fear\":' +\n                fearful +\n                \",\" +\n                '\"surprise\":' +\n                surprised +\n                \",\" +\n                '\"disgust\":' +\n                disgusted +\n                \",\" +\n                '\"sadness\":' +\n                sad +\n                \",\" +\n                '\"happiness\":' +\n                happy +\n                \"},\";\n              div.appendChild(p);\n            })\n            .catch((error) => {\n              console.log(error);\n              this.msg = error;\n            });\n          if (counterTicker3 === ticker3 - 1) {\n            setTimeout(() => {\n              console.log(\"Delayed for 5 seconds.\");\n              instance.returnJSON();\n            }, 2000);\n          }\n        }, 500 * i3); //timeout\n      } //fire\n    },\n\n    returnJSON: function () {\n      var workingJSON = document.getElementById(\"specificAnalysis3\").innerText;\n      var middleJSON = \"[\" + workingJSON.slice(0, -1) + \"]\";\n      this.JSON3 = middleJSON;\n      console.log(\"JSON2: \" + this.JSON3);\n      var div = document.getElementById(\"specificAnalysis4\");\n      var p = document.createElement(\"div\");\n      p.innerHTML = this.JSON3;\n      div.appendChild(p);\n\n      setTimeout(() => {\n        console.log(\"Delayed for 1 second.\");\n        this.renderVisuals();\n      }, 2000);\n    },\n\n    renderVisuals: function () {\n      document.getElementById(\"visuals\").style.display = \"block\";\n      document.getElementById(\"thinkingIMG\").remove();\n\n      let img = document.createElement(\"img\");\n      img.src = \"https://media.giphy.com/media/QIRDfKwRFXz6nBCQkF/giphy.gif\";\n      img.setAttribute(\"id\", \"thinkingIMG2\");\n      document.getElementById(\"terminal\").appendChild(img);\n      var workingJSON = document.getElementById(\"specificAnalysis4\").innerText;\n      this.JSON4 = JSON.parse(workingJSON);\n\n      //const usableText = JSON.stringify(this.JSON1[0].text);\n\n      if (this.JSON4 != null) {\n        console.log(\"test\");\n        var i,\n          len = this.JSON4.length;\n        for (i = 0; i < len; i++) {\n          const usableURL = this.JSON4[i].url;\n          const angry = this.JSON4[i].anger;\n          const happy = this.JSON4[i].happiness;\n          const disgusted = this.JSON4[i].disgust;\n          const fearful = this.JSON4[i].fear;\n          const surprised = this.JSON4[i].surprise;\n          const sad = this.JSON4[i].sadness;\n          const moralAnalysis = this.JSON4[i].moralFoundation;\n\n          var div = document.getElementById(\"visuals\");\n          var p = document.createElement(\"div\");\n          p.innerHTML =\n            \"<h2>\" +\n            usableURL +\n            \"</h2>\" +\n            \"<h3>Moral Foundations Analysis: </h3>\" +\n            moralAnalysis +\n            \"<h3>Emotional Analysis: </h3><ul>\" +\n            \"<li> Anger: \" +\n            angry +\n            \"</li>\" +\n            \"<li> Fear: \" +\n            fearful +\n            \"</li>\" +\n            \"<li> Surprise: \" +\n            surprised +\n            \"</li>\" +\n            \"<li> Disgust: \" +\n            disgusted +\n            \"</li>\" +\n            \"<li> Sadness: \" +\n            sad +\n            \"</li>\" +\n            \"<li> Happiness: \" +\n            happy +\n            \"</li>\" +\n            \"</ul>\";\n          div.appendChild(p);\n\n          if (i === len - 1) {\n            setTimeout(() => {\n              console.log(\"Delayed for 4 seconds.\");\n              document.getElementById(\"thinkingIMG2\").remove();\n              this.msg = \"Analysis Complete\";\n              this.msg2 = \"\";\n              this.getOverallMoralFoundationScores();\n            }, 4000);\n          }\n        }\n      }\n    },\n\n    getOverallMoralFoundationScores: function () {\n      this.showProcess2 = false;\n      this.msg = this.urlToScrape;\n      var workingJSON = document.getElementById(\"specificAnalysis4\").innerText;\n      const test = JSON.parse(workingJSON);\n      const instance = this;\n      const pageType3 = \"overallMoral\";\n      let overallMoralAnalysis = \"\";\n\n      const e = test.length;\n      for (var i = 0; i < e; i++) {\n        overallMoralAnalysis = overallMoralAnalysis += test[i].moralFoundation.substring(0, 100) + \".\";\n        if (i === e - 1) {\n          instance.overallSummaryOutput = overallMoralAnalysis;\n\n          const client = axios.create({\n            headers: {\n              Authorization: \"Bearer \" + instance.apiKEY,\n            },\n          });\n\n          const params = {\n            model: \"gpt-3.5-turbo-instruct\",\n            prompt:\n              'Give an explantation of the moral foundations that are represented in the following text out of care, fairness, loyalty, authority, and purity in addition to that explanation, include scores between 1 and 10 for the occurence of each moral foundation of care, fairness, loyalty, authority, and purity in the text formatted in JSON as {\"care\": number score,\"fairness\": number score,\"loyalty\": number score,\"authority\": number score,\"purity\": number score}. Text:' +\n              instance.overallSummaryOutput +\n              \".\",\n            temperature: 0,\n            max_tokens: 3500,\n            top_p: 1,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n          };\n\n          client\n            .post(\"https://api.openai.com/v1/completions\", params)\n            .then((result) => {\n              instance.msg = instance.urlToScrape;\n              const rawResultA = result.data.choices[0].text;\n              console.log(rawResultA);\n              const justTheTextA = rawResultA.substring(rawResultA.indexOf(\"}\") + 1);\n              const justTheJSONA = rawResultA.substring(0, rawResultA.indexOf(\"}\")+1);\n              console.log(justTheTextA + \" : \" + justTheJSONA);\n              const moralResultsA = JSON.parse(justTheJSONA);\n              const overallCare = moralResultsA.care;\n              const overallFairness = moralResultsA.fairness;\n              const overallLoyalty = moralResultsA.loyalty;\n              const overallAuthority = moralResultsA.authority;\n              const overallPurity = moralResultsA.purity;\n              instance.overallOutputExplanation = justTheTextA\n              //const moralFoundationResults3 = justTheTextA;\n              // justTheTextA.text.replaceAll('\"', \"\");\n              // \t\t\t\t\tinstance.moralFoundationAnalysis = moralFoundationResults3.replaceAll(\"'\", \"\");\n              // \t\t\t\t\tinstance.overallSummaryOutput = instance.moralFoundationAnalysis\n\n              var div = document.getElementById(\"specificAnalysis3\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                pageType3 +\n                '\"' +\n                \",\" +\n                '\"url\":' +\n                '\"' +\n                instance.urlToScrape +\n                '\"' +\n                \",\" +\n                '\"overallCare\":' +\n                overallCare +\n                \",\" +\n                '\"overallFairness\":' +\n                overallFairness +\n                \",\" +\n                '\"overallLoyalty\":' +\n                overallLoyalty +\n                \",\" +\n                '\"overallAuthority\":' +\n                overallAuthority +\n                \",\" +\n                '\"overallPurity\":' +\n                overallPurity +\n                \",\" +\n                '\"moralFoundationOverall\":' +\n                '\"' +\n                justTheTextA +\n                '\"' +\n                \"},\";\n              div.appendChild(p);\n              \n              \n\n              var data = [\n                {\n                  x: [\"Care\", \"Fairness\", \"Loyalty\", \"Authority\", \"Purity\"],\n                  y: [\n                    overallCare,\n                    overallFairness,\n                    overallLoyalty,\n                    overallAuthority,\n                    overallPurity,\n                  ],\n                  type: \"bar\",\n                  marker: {\n                    color: [\n                      \"#bf4e30\",\n                      \"#c6ccb2\",\n                      \"#93ff96\",\n                      \"#e5eafa\",\n                      \"#78fecf\",\n                    ],\n                  },\n                },\n              ];\n\n              var layout = {\n                height: 450,\n                width: 450,\n                showlegend: false,\n                paper_bgcolor: \"#2b2d42\",\n                plot_bgcolor: \"#2b2d42\",\n                title: \"Moral Foundations\",\n                font: {\n                  family: \"Arial, monospace\",\n                  size: 25,\n                  color: \"white\",\n                },\n              };\n              var config = { responsive: true };\n              Plotly.newPlot(\"overallMoralFoundations\", data, layout, config);\n              setTimeout(() => {\n                console.log(\"Delayed for 1 second.\");\n                this.renderOverallEmotion();\n              }, 1000);\n            })\n            .catch((error) => {\n              console.log(error);\n              this.msg = error;\n            });\n        }\n      }\n    },\n\n    renderOverallEmotion: function () {\n      //var workingJSON =\n      //this.JSON4 = JSON.parse(workingJSON);\n      var workingJSONB = document.getElementById(\"specificAnalysis4\").innerText;\n      const test = JSON.parse(workingJSONB);\n      let overallAnger = 0;\n      let overallFear = 0;\n      let overallHappiness = 0;\n      let overallSurprise = 0;\n      let overallSadness = 0;\n      let overallDisgust = 0;\n      console.log(test.length);\n      const instance = this;\n      const e = test.length;\n      for (var i = 0; i < e; i++) {\n        overallAnger = overallAnger + test[i].anger;\n        overallFear = overallFear + test[i].fear;\n        overallHappiness = overallHappiness + test[i].happiness;\n        overallSurprise = overallSurprise + test[i].surprise;\n        overallSadness = overallSadness + test[i].sadness;\n        overallDisgust = overallDisgust + test[i].disgust;\n        if (i === e - 1) {\n          overallAnger = Math.round(overallAnger / e) * 10;\n          overallFear = Math.round(overallFear / e) * 10;\n          overallHappiness = Math.round(overallHappiness / e) * 10;\n          overallSurprise = Math.round(overallSurprise / e) * 10;\n          overallSadness = Math.round(overallSadness / e) * 10;\n          overallDisgust = Math.round(overallDisgust / e) * 10;\n\n          var data = [\n            {\n              type: \"pie\",\n              values: [\n                overallAnger,\n                overallFear,\n                overallHappiness,\n                overallSurprise,\n                overallSadness,\n                overallDisgust,\n              ],\n              labels: [\n                \"Anger\",\n                \"Fear\",\n                \"Happiness\",\n                \"Surprise\",\n                \"Sadness\",\n                \"Disgust\",\n              ],\n              textinfo: \"label+percent\",\n              textposition: \"outside\",\n              marker: {\n                colors: [\n                  \"#ff0022\",\n                  \"#ffbc42\",\n                  \"#0496ff\",\n                  \"#694d75\",\n                  \"#1b5299\",\n                  \"#40434e\",\n                ],\n              },\n            },\n          ];\n\n          var layout = {\n            height: 450,\n            width: 450,\n            showlegend: false,\n            paper_bgcolor: \"#2b2d42\",\n            title: \"Emotions\",\n            font: {\n              family: \"Arial, monospace\",\n              size: 25,\n              color: \"white\",\n            },\n          };\n          var config = { responsive: true };\n          Plotly.newPlot(\"overallEmotions\", data, layout, config);\n\n          setTimeout(() => {\n            console.log(\"Delayed for 1 second.\");\n            instance.returnJSONAgain();\n          }, 1000);\n        }\n      }\n    },\n\n    returnJSONAgain: function () {\n      var workingJSON = document.getElementById(\"specificAnalysis3\").innerText;\n      var middleJSON = \"[\" + workingJSON.slice(0, -1) + \"]\";\n      const middleWorkingJSON = middleJSON;\n      console.log(\"JSON2: \" + middleWorkingJSON);\n      var div = document.getElementById(\"specificAnalysis5\");\n      var p = document.createElement(\"div\");\n      p.innerHTML = middleWorkingJSON;\n      div.appendChild(p);\n    },\n\n    getReadabilityStats: function () {\n      this.readability = rs.gunningFog(this.workingOutput);\n      console.log(this.readability + \" \" + this.workingOutput);\n    },\n\n    reset: function () {\n      location.reload();\n    },\n\n    unhideData: function () {\n      document.getElementById(\"rawData\").style.display = \"inline-block\";\n    },\n\n    hideData: function () {\n      document.getElementById(\"rawData\").style.display = \"none\";\n    },\n\n    renderData: function () {\n      const promise1 = new Promise((resolve, reject) => {\n        this.getEmotionStats();\n        this.getReadabilityStats();\n        resolve(\"Data rendered!\");\n        reject(\"Data render failed\");\n      });\n\n      promise1.then(() => {\n        this.constructJSON();\n        this.visualizeData();\n        this.resetWorkingOutput();\n        console.log(\"JSON and charts constructed\");\n      });\n    },\n\n    constructJSON: function () {\n      this.currentDataObject =\n        '{\"time\":' +\n        '\"' +\n        this.workingTime +\n        '\"' +\n        \",\" +\n        '\"wpm\":' +\n        '\"' +\n        this.wpm +\n        '\"' +\n        \",\" +\n        '\"content\":' +\n        '\"' +\n        this.workingOutput +\n        '\"' +\n        \",\" +\n        '\"Angry\":' +\n        this.anger +\n        \",\" +\n        '\"Fear\":' +\n        this.fear +\n        \",\" +\n        '\"Excited\":' +\n        this.excitement +\n        \",\" +\n        '\"Bored\":' +\n        this.boredom +\n        \",\" +\n        '\"Sad\":' +\n        this.sadness +\n        \",\" +\n        '\"Happy\":' +\n        this.happiness +\n        \",\" +\n        '\"volume\":' +\n        this.volumeValue +\n        \",\" +\n        '\"readability\":' +\n        this.readability +\n        \",\" +\n        '\"faceAnger\":' +\n        this.faceAngry +\n        \",\" +\n        '\"faceDisgust\":' +\n        this.faceDisgusted +\n        \",\" +\n        '\"faceFear\":' +\n        this.faceFearful +\n        \",\" +\n        '\"faceHappiness\":' +\n        this.faceHappy +\n        \",\" +\n        '\"faceNeutral\":' +\n        this.faceNeutral +\n        \",\" +\n        '\"faceSadness\":' +\n        this.faceSad +\n        \",\" +\n        '\"faceSurprise\":' +\n        this.faceSurprised +\n        \"},\";\n      var div = document.getElementById(\"rawData\");\n      div.innerHTML += this.currentDataObject;\n      this.overallDataObject = document.getElementById(\"rawData\").innerHTML;\n    },\n\n    pdfResults: function () {\n      window.print();\n    },\n  }, //\n}; //\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n@import url(\"https://fonts.cdnfonts.com/css/lcd\");\n#textEmotion,\n#faceEmotion,\n#voiceEmotion,\n#wpm {\n  display: inline-block;\n}\n\n#overallEmotions {\n  display: inline-block;\n}\n\n#overalExplanation {\n  color: orange;\n  font-size: 25px;\n  margin-top: 25px;\n  width: 65%;\n  display: inline-block;\n}\n\n#results {\n  display: flex;\n  margin: auto;\n  width: 65%;\n}\n#overallMoralFoundatations {\n  display: inline-block;\n  margin: auto;\n  display: none;\n}\n\n#URLInput {\n  width: 50%;\n  font-size: 30px;\n  text-align: center;\n  background-color: #f7ec59;\n  color: #252627;\n  border: none;\n}\n\n#APIinput {\n  width: 50%;\n  font-size: 20px;\n  text-align: center;\n  background-color: hotpink;\n  color: #252627;\n  border: none;\n}\n#startButton {\n  background: #2f4858;\n  font-size: 30px;\n  color: white;\n  border: none;\n}\n\n#startButton:hover {\n  background: purple;\n}\n\n#apiButton {\n  background: #2f4858;\n  font-size: 20px;\n  color: white;\n  border: none;\n}\n\n#apiButton:hover {\n  background: purple;\n}\n.visuals {\n  color: #ff66d8;\n  border: solid;\n  font-size: 20px;\n  width: 75%;\n  margin: auto;\n  padding: 10px;\n  display: none;\n}\n\n#specificAnalysis {\n}\n#specificAnalysis2 {\n  color: pink;\n}\n#specificAnalysis3 {\n  color: blue;\n}\n#specificAnalysis5 {\n  color: orange;\n  font-size: 20px;\n}\n\n#specificAnalysis4 {\n  color: limegreen;\n}\ndiv {\n  background-color: none;\n  color: #71c68b;\n}\n.chartWindow {\n  position: relative;\n  display: inline-block;\n  width: 80%;\n}\n.optionsButton {\n  height: 50px;\n  width: 75px;\n  padding: 12px;\n  font-size: 10px;\n  margin: 5px;\n  border: none;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n}\n\n.title {\n  color: white;\n}\n\n#messageTwo {\n  color: #92dce5;\n  font-size: 25px;\n}\n\n#messageThree {\n  color: white;\n  font-size: 25px;\n  margin-left: 10%;\n}\n\n#begin {\n  background-color: #c300ff;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin-top: 40px;\n  margin-bottom: -20px;\n}\n\n#begin:hover {\n  background-color: #fdfd96;\n}\n\n#start {\n  background-color: #cbc3e3;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#start:hover {\n  background-color: lightgreen;\n}\n\n#stop {\n  background-color: #cbc3e3;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#stop:hover {\n  background-color: #ff726f;\n}\n\n#reset {\n  background-color: #cbc3e3;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#reset:hover {\n  background-color: lightyellow;\n}\n\n#pdf {\n  background-color: #c300ff;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#pdf:hover {\n  background-color: #00ffc3;\n}\n\n#next {\n  background-color: #7766c6;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin-top: 40px;\n  margin-bottom: -20px;\n}\n\n#next:hover {\n  background-color: #ffc300;\n}\n\n#output {\n  margin: auto;\n  color: #f48d79;\n  background-color: #222831;\n  width: 80%;\n  text-align: left;\n  overflow: auto;\n  height: 170px;\n  font-size: 25px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n\n#wpmChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: 3px;\n  margin-bottom: 0px;\n}\n\n#readabilityChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: 3px;\n  margin-bottom: 0px;\n}\n\n#volumeChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: -3px;\n}\n\n#textEmotionChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: -3px;\n}\n\n#faceEmotionChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: -3px;\n}\n\n#rawData {\n  margin: auto;\n  color: lawngreen;\n  background-color: #222831;\n  width: 80%;\n  text-align: left;\n  overflow: scroll;\n  height: 100px;\n  font-size: 25px;\n  margin: 0px;\n}\n\n#dataHideButton {\n  margin: auto;\n  color: #222831;\n  background-color: #222831;\n  width: 40%;\n  text-align: center;\n  height: 30px;\n  font-size: 10px;\n  margin: 0px;\n  border: none;\n}\n\n#dataShowButton {\n  margin: auto;\n  color: #222831;\n  background-color: #222831;\n  width: 40%;\n  text-align: center;\n  height: 30px;\n  font-size: 10px;\n  margin: 0px;\n  border: none;\n}\n\nh1 {\n  font-size: 50px;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0px;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n#talking {\n  height: 100px;\n  margin-bottom: -20px;\n  -webkit-filter: invert(1);\n  filter: invert(1);\n}\n\n#timer {\n  background: #222831;\n  color: white;\n  font-size: 50px;\n  font-family: \"LCD\", sans-serif;\n  height: 100px;\n  width: 80%;\n  border: none;\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 0px;\n}\n\n#timeHolder {\n  background-color: #123b52;\n  color: white;\n  display: none;\n  margin-bottom: 0px;\n}\n\n#speakingTime {\n  background-color: #00ffc3;\n  outline: none;\n  scroll-behavior: smooth;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 21px;\n  margin: 10px;\n  text-align: center;\n  border: none;\n}\n\n#speakingTime:hover {\n  background-color: #c300ff;\n}\n\n#volume-visualizer-wrapper {\n  background-color: #222831;\n  margin-top: 0px;\n  padding: 0px;\n  margin-bottom: 0px;\n  width: 80%;\n  display: inline-block;\n  padding-bottom: 10px;\n}\n\n#volume-visualizer {\n  --volume: 0%;\n  position: relative;\n  height: 10px;\n  background-color: #222831;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  width: 100%;\n  border: none;\n  display: inline-block;\n}\n\n#volume-visualizer::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: var(--volume);\n  background-color: #c300ff;\n  transition: width 100ms linear;\n}\n#container {\n  height: 200px;\n  margin-bottom: 0px;\n  display: none;\n  margin-top: -100px;\n}\n\n.video-container {\n  position: relative;\n  margin-top: 0px;\n  background-color: #222831;\n  width: 80%;\n  display: inline-block;\n}\n\ncanvas {\n  position: absolute;\n  left: 0;\n  top: 0px;\n}\n.result-container {\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.result-container > div {\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  margin: 5px 0;\n  color: white;\n  text-transform: capitalize;\n}\n\nvideo {\n  width: 100%;\n  margin-bottom: -150px;\n  margin-top: 0px;\n}\n\n#loading {\n  height: 50px;\n}\n\n#loadingContainer {\n  color: #fdfd96;\n  margin-bottom: 150%;\n  font-size: 50px;\n}\n\n#initialMessage {\n  font-size: 20px;\n  color: #c300ff;\n}\n\n#footer {\n  display: flex;\n  position: float;\n  bottom: 0;\n  margin-top: 27%;\n  height: 3rem;\n  text-align: left;\n}\n\n#bugs {\n  color: white;\n  font-size: 12px;\n}\n\n@page {\n  size: A3 landscape;\n  counter-increment: page;\n  margin: none;\n}\n</style>\n"]}]}