(function(e){function t(t){for(var i,o,s=t[0],c=t[1],l=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/psdb/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},"136b":function(e,t,n){"use strict";n("7e9a")},14:function(e,t){},15:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);var i=n("2b0e"),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("PublicSpeakingDashboard")],1)},a=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dashboard",attrs:{id:"body"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.urlToScrape,expression:"urlToScrape"}],attrs:{id:"URLInput",type:"text",placeholder:"Enter URL"},domProps:{value:e.urlToScrape},on:{input:function(t){t.target.composing||(e.urlToScrape=t.target.value)}}}),t("button",{on:{click:e.grabPage}},[e._v("Crawl")]),e.loading?e._e():t("p",{attrs:{id:"loadingContainer"}},[e._v("Initializing "),t("br"),t("img",{attrs:{id:"loading",src:"https://media.giphy.com/media/Ky5F5Rhn1WRVZmvE5W/giphy.gif"}}),t("br"),t("span",{attrs:{id:"initialMessage"}},[e._v("(Make sure your webcam is facing you.)")])]),e.showProcess?t("h1",{attrs:{id:"mainTitle"}},[e._v(" "+e._s(e.msg)+" ")]):e._e(),e.showProcess?t("p",{attrs:{id:"messageTwo"}},[e._v(" "+e._s(e.msg2)+" ")]):e._e(),e.showProcess?t("p",{attrs:{id:"messageThree"}},[e._v(" "+e._s(e.msg3)+" ")]):e._e(),t("section",{attrs:{id:"specificAnalysis"}}),t("section",{attrs:{id:"specificAnalysis2"}})])},s=[],c=(n("14d9"),n("1da6"),n("0e14")),l=n("cee4"),u={name:"publicSpeakingDashboard",props:{},data(){return{msg:"Discourse Crawler",msg2:"An AI-powered tool for performing top-level analysis of websites.",msg3:"",urlToScrape:"",pageText:"",anger:0,fear:0,excitement:0,boredom:0,sadness:0,happiness:0,readability:0,loading:!0,showProcess:!0,anchorsForCrawl:"",secondIteration:!1,JSON:"",JSON2:""}},created:function(){},methods:{grabPage:function(){var e="https://api.allorigins.win/raw?url="+encodeURIComponent(this.urlToScrape)+"&callback=?";l["a"].get(e).then(e=>{const t=e.data,n=t.replace(/\s+/g," ").trim(),i=new DOMParser,r=i.parseFromString(n,"text/html"),a=r;a.querySelectorAll("script, style").forEach(e=>e.remove());let o=a.querySelector("body").innerText.trim();if(console.log("Crawling: "+this.urlToScrape),0==this.secondIteration){for(var s=[],c=r.links,l=0;l<c.length;l++)r.links[l].href.includes(this.urlToScrape)&&(s.push(c[l].href),console.log("Subpage to be crawled: "+r.links[l].href));this.anchorsForCrawl=h(s);var u=document.getElementById("specificAnalysis"),d=document.createElement("div");d.innerHTML='{"url":"'+this.urlToScrape+'","text":"'+this.pageText+'"},',u.appendChild(d)}function h(e){return e.filter((t,n)=>e.indexOf(t)===n)}this.pageText=o,this.grabSubpages()}).catch(e=>{console.log(e)})},grabSubpages:function(){var e,t=this.anchorsForCrawl.length;for(e=0;e<t;e++){const t=this.anchorsForCrawl[e];this.msg="Crawling",this.msg2=t;var n="https://api.allorigins.win/raw?url="+encodeURIComponent(this.anchorsForCrawl[e])+"&callback=?";l["a"].get(n).then(n=>{const i=n.data,r=i.replace(/\s+/g," ").trim(),a=new DOMParser,o=a.parseFromString(r,"text/html"),s=o;s.querySelectorAll("script, style").forEach(e=>e.remove());let c=s.querySelector("body").innerText.trim();console.log("Crawling: "+this.urlToScrape),this.pageText=c;var l=document.getElementById("specificAnalysis"),u=document.createElement("div");if(u.innerHTML='{"url":"'+t+'","text":"'+this.pageText+'"},',l.appendChild(u),e===this.anchorsForCrawl.length-1){var d=document.getElementById("specificAnalysis").innerText;this.JSON="["+d.slice(0,-1)+"]",console.log("JSON: "+this.JSON)}}).catch(e=>{console.log(e)})}},getEmotionStats:function(){var e,t=this.JSON.length;for(e=0;e<t;e++){const i=this.JSON[e].url,r=this.JSON[e].text,a=n("1da6");a.apiKey="hL7rOIhghKLZtrI6w04cFjxVvAOHQ7BiNhjMLAVnMPw",a.emotion(this.pageText,"en").then(n=>{let a=JSON.parse(n);this.textEmotionData=n.slice(1),this.anger=Math.round(100*a.emotion.Angry),this.fear=Math.round(100*a.emotion.Fear),this.excitement=Math.round(100*a.emotion.Excited),this.boredom=Math.round(100*a.emotion.Bored),this.sadness=Math.round(100*a.emotion.Sad),this.happiness=Math.round(100*a.emotion.Happy);var o=document.getElementById("specificAnalysis2"),s=document.createElement("div");if(s.innerHTML='{"url":"'+i+'","text":"'+r+'","Angry":'+this.anger+',"Fear":'+this.fear+',"Excited":'+this.excitement+',"Bored":'+this.boredom+',"Sad":'+this.sadness+',"Happy":'+this.happiness+"},",o.appendChild(s),e==t){var c=document.getElementById("specificAnalysis2").innerText;this.JSON="",this.JSON2="["+c.slice(0,-1)+"]",console.log("JSON2: "+this.JSON2)}}).catch(e=>{console.log(e)})}},getReadabilityStats:function(){this.readability=c["gunningFog"](this.workingOutput),console.log(this.readability+" "+this.workingOutput)},reset:function(){location.reload()},unhideData:function(){document.getElementById("rawData").style.display="inline-block"},hideData:function(){document.getElementById("rawData").style.display="none"},renderData:function(){const e=new Promise((e,t)=>{this.getEmotionStats(),this.getReadabilityStats(),e("Data rendered!"),t("Data render failed")});e.then(()=>{this.constructJSON(),this.visualizeData(),this.resetWorkingOutput(),console.log("JSON and charts constructed")})},constructJSON:function(){this.currentDataObject='{"time":"'+this.workingTime+'","wpm":"'+this.wpm+'","content":"'+this.workingOutput+'","Angry":'+this.anger+',"Fear":'+this.fear+',"Excited":'+this.excitement+',"Bored":'+this.boredom+',"Sad":'+this.sadness+',"Happy":'+this.happiness+',"volume":'+this.volumeValue+',"readability":'+this.readability+',"faceAnger":'+this.faceAngry+',"faceDisgust":'+this.faceDisgusted+',"faceFear":'+this.faceFearful+',"faceHappiness":'+this.faceHappy+',"faceNeutral":'+this.faceNeutral+',"faceSadness":'+this.faceSad+',"faceSurprise":'+this.faceSurprised+"},";var e=document.getElementById("rawData");e.innerHTML+=this.currentDataObject,this.overallDataObject=document.getElementById("rawData").innerHTML},pdfResults:function(){window.print()}}},d=u,h=(n("136b"),n("2877")),p=Object(h["a"])(d,o,s,!1,null,"5981f75a",null),f=p.exports,g={name:"App",components:{PublicSpeakingDashboard:f}},m=g,y=(n("9452"),Object(h["a"])(m,r,a,!1,null,null,null)),b=y.exports;i["a"].config.productionTip=!1,new i["a"]({render:e=>e(b)}).$mount("#app")},6:function(e,t){},7:function(e,t){},"7e9a":function(e,t,n){},8:function(e,t){},9:function(e,t){},9452:function(e,t,n){"use strict";n("c3e9")},c3e9:function(e,t,n){}});
//# sourceMappingURL=app.7b6b2f87.js.map