(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/psdb/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("PublicSpeakingDashboard")],1)},i=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dashboard",attrs:{id:"body"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.urlToScrape,expression:"urlToScrape"}],attrs:{id:"URLInput",type:"text",placeholder:"Enter the URL You Would Like to Crawl - Homepages Work Best"},domProps:{value:e.urlToScrape},on:{input:function(t){t.target.composing||(e.urlToScrape=t.target.value)}}}),t("button",{on:{click:e.grabPage}},[e._v("Crawl")]),e.loading?e._e():t("p",{attrs:{id:"loadingContainer"}},[e._v("Initializing "),t("br"),t("img",{attrs:{id:"loading",src:"https://media.giphy.com/media/Ky5F5Rhn1WRVZmvE5W/giphy.gif"}}),t("br"),t("span",{attrs:{id:"initialMessage"}},[e._v("(Make sure your webcam is facing you.)")])]),e.showProcess?t("h1",{attrs:{id:"mainTitle"}},[t("img",{attrs:{id:"talking",alt:"image of voice waves leaving someone's mouth. Attribution: Speak Icon, by Voysla, 'https://www.flaticon.com/free-icons/speak'",src:"talking.png"}}),e._v(" "+e._s(e.msg)+" ")]):e._e(),e.showProcess?t("p",{attrs:{id:"messageTwo"}},[e._v(" "+e._s(e.msg2)+" ")]):e._e(),e.showProcess?t("p",{attrs:{id:"messageThree"}},[e._v(" "+e._s(e.msg3)+" ")]):e._e(),t("section",{attrs:{id:"specificAnalysis"}}),t("p",{attrs:{id:"rawData"}}),e._v(" "+e._s(e.urlToScrape)+" "+e._s(e.pageText)+" "),e._m(0)])},s=[function(){var e=this,t=e._self._c;return t("footer",{attrs:{id:"footer"}},[t("section",{attrs:{id:"version"}},[e._v("Version 0.1 (Beta)"),t("br"),t("div",{attrs:{id:"bugs"}},[t("section",[e._v("If you find a bug please report it here: "),t("a",{attrs:{href:"https://rowan.co1.qualtrics.com/jfe/form/SV_8AhIsft05UgIUqW"}},[e._v("Bug/Error Report Form")])])])])])}],c=(n("14d9"),n("1da6"),n("0e14")),l=n("cee4"),u={name:"publicSpeakingDashboard",props:{},data(){return{msg:"Discourse Crawler",msg2:"An AI-powered tool for performing top-level analysis of websites.",msg3:"",urlToScrape:"https://milesccoleman.com/",pageText:"",anger:0,fear:0,excitement:0,boredom:0,sadness:0,happiness:0,readability:0,loading:!0,showProcess:!0,anchorsForCrawl:"",secondIteration:!1}},created:function(){},methods:{grabPage:function(){var e="https://api.allorigins.win/raw?url="+encodeURIComponent(this.urlToScrape)+"&callback=?";l["a"].get(e).then(e=>{const t=e.data,n=t.replace(/\s+/g," ").trim(),r=new DOMParser,a=r.parseFromString(n,"text/html"),i=a;i.querySelectorAll("script, style").forEach(e=>e.remove());let o=i.querySelector("body").innerText.trim();if(console.log("Crawling: "+this.urlToScrape),0==this.secondIteration){for(var s=[],c=a.links,l=0;l<c.length;l++)a.links[l].href.includes(this.urlToScrape)&&(s.push(c[l].href),console.log("Subpage to be crawled: "+a.links[l].href));this.anchorsForCrawl=u(s),this.secondIteration=!0}function u(e){return e.filter((t,n)=>e.indexOf(t)===n)}this.pageText=o,this.grabSubpages()}).catch(e=>{console.log(e)})},grabSubpages:function(){var e,t=this.anchorsForCrawl.length;for(e=0;e<t;e++){const r=this.anchorsForCrawl[e];var n="https://api.allorigins.win/raw?url="+encodeURIComponent(this.anchorsForCrawl[e])+"&callback=?";l["a"].get(n).then(n=>{const a=n.data,i=a.replace(/\s+/g," ").trim(),o=new DOMParser,s=o.parseFromString(i,"text/html"),c=s;c.querySelectorAll("script, style").forEach(e=>e.remove());let l=c.querySelector("body").innerText.trim();console.log("Crawling: "+this.urlToScrape),this.pageText=l;var u=document.getElementById("specificAnalysis"),p=document.createElement("div");if(p.innerHTML='{"url":"'+r+'","text":"'+this.pageText+'"},',u.appendChild(p),e==t){var d=document.getElementById("specificAnalysis").innerText;this.msg2="["+d.slice(0,-1)+"]"}}).catch(e=>{console.log(e)})}},getEmotionStats:function(){const e=n("1da6");e.apiKey="hL7rOIhghKLZtrI6w04cFjxVvAOHQ7BiNhjMLAVnMPw",e.emotion(this.pageText,"en").then(e=>{let t=JSON.parse(e);this.textEmotionData=e.slice(1),this.anger=Math.round(100*t.emotion.Angry),this.fear=Math.round(100*t.emotion.Fear),this.excitement=Math.round(100*t.emotion.Excited),this.boredom=Math.round(100*t.emotion.Bored),this.sadness=Math.round(100*t.emotion.Sad),this.happiness=Math.round(100*t.emotion.Happy)}).catch(e=>{console.log(e)})},getReadabilityStats:function(){this.readability=c["gunningFog"](this.workingOutput),console.log(this.readability+" "+this.workingOutput)},reset:function(){location.reload()},unhideData:function(){document.getElementById("rawData").style.display="inline-block"},hideData:function(){document.getElementById("rawData").style.display="none"},renderData:function(){const e=new Promise((e,t)=>{this.getEmotionStats(),this.getReadabilityStats(),e("Data rendered!"),t("Data render failed")});e.then(()=>{this.constructJSON(),this.visualizeData(),this.resetWorkingOutput(),console.log("JSON and charts constructed")})},constructJSON:function(){this.currentDataObject='{"time":"'+this.workingTime+'","wpm":"'+this.wpm+'","content":"'+this.workingOutput+'","Angry":'+this.anger+',"Fear":'+this.fear+',"Excited":'+this.excitement+',"Bored":'+this.boredom+',"Sad":'+this.sadness+',"Happy":'+this.happiness+',"volume":'+this.volumeValue+',"readability":'+this.readability+',"faceAnger":'+this.faceAngry+',"faceDisgust":'+this.faceDisgusted+',"faceFear":'+this.faceFearful+',"faceHappiness":'+this.faceHappy+',"faceNeutral":'+this.faceNeutral+',"faceSadness":'+this.faceSad+',"faceSurprise":'+this.faceSurprised+"},";var e=document.getElementById("rawData");e.innerHTML+=this.currentDataObject,this.overallDataObject=document.getElementById("rawData").innerHTML},pdfResults:function(){window.print()}}},p=u,d=(n("d97a"),n("2877")),h=Object(d["a"])(p,o,s,!1,null,"21d7a04e",null),f=h.exports,g={name:"App",components:{PublicSpeakingDashboard:f}},m=g,b=(n("9452"),Object(d["a"])(m,a,i,!1,null,null,null)),y=b.exports;r["a"].config.productionTip=!1,new r["a"]({render:e=>e(y)}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},9452:function(e,t,n){"use strict";n("c3e9")},"9b2e":function(e,t,n){},c3e9:function(e,t,n){},d97a:function(e,t,n){"use strict";n("9b2e")}});
//# sourceMappingURL=app.23b1fe86.js.map